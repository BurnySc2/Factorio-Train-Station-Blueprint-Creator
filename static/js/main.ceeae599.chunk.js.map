{"version":3,"sources":["BlueprintCreation/CreateItems.ts","BlueprintCreation/CreateBlueprint.ts","constants/constants.ts","BlueprintCreation/CreateNormalStation.ts","BlueprintCreation/CreateFluidStation.ts","constants/verticalStackerCurves.ts","constants/diagonalStackerCurves.ts","BlueprintCreation/CreateStacker.ts","css/classes.ts","constants/tooltips.tsx","components/Sections/TrainTypeSettings.tsx","components/Sections/InserterSettings.tsx","components/Sections/SequentialStationSettings.tsx","components/Sections/ChestTypeSettings.tsx","components/Sections/BeltTypeSettings.tsx","components/Sections/RefillSettings.tsx","components/Sections/WireSettings.tsx","components/Sections/EnabledConditionSettings.tsx","components/Sections/LampsSettings.tsx","components/Sections/StationNameSettings.tsx","components/StationTypes/NormalStation.tsx","components/Sections/FluidSettings.tsx","components/StationTypes/FluidStation.tsx","components/Title.tsx","components/Footer.tsx","components/Sections/StackerSettings.tsx","components/StationTypes/Stacker.tsx","components/WarningMessage.tsx","components/ErrorMessage.tsx","constants/helper.ts","components/Website.tsx","components/MyRouter.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["cloneDeep","require","entityNumber","resetEntityNumber","newItem","itemName","x","y","options","item","entity_number","name","position","direction","orientation","bar","filters","request_filters","request_from_buffers","control_behavior","station","manual_trains_limit","assignEntityNumberToItems","items","xOffset","yOffset","map","getTrainArray","bpSettings","startOffset","bottomOffset","returnArray","doubleHeaded","i","parseInt","locomotivesPerEnd","cargoWagon","push","getFrontLocomotivesArray","getBackLocomotivesArray","getCargoArray","placeTrainTracks","forEach","placeSignals","stationNumber","singleHeadedOffset","end","stationType","start","DIRECTION","DOWN","sequentialStation","sequentialStationsAmount","UP","placeTrainStop","controlBehavior","trainStopUsesEnabledCondition","circuit_condition","first_signal","type","constant","comparator","circuit_enable_disable","undefined","stationName","trainLimit","placeTrain","count","locoCount","cargoCount","includes","placeInserters","filterArray","inserterType","enableFilterInserters","filterInserters","inserterDirection","RIGHT","LEFT","filterFields","index","botChestTypes","chestType","placeChests","isRequesterChest","requests","itemType","chestRequestItemsType","itemAmount","chestRequestItemsAmount","requestFromBuffers","chestRequestFromBuffers","chestLimit","length","placeLoadingBelts","beltType","placeUnloadingBelts","placePumps","pumpDirection","placeStorageTanks","placePipes","array","placeVerticalBelts","splitters","mode","beltEnd","beltFlowDirection","sortByYPosition","splitter","reverse","placeSplitters","splitterType","splitterTypes","splitterDirection","placePoles","placeLamps","placeDecider","decider_conditions","enabledConditionAmount","enabledConditionOperator","output_signal","copy_count_from_input","placeTopRefuelPoles","placeBottomRefuelPoles","placeRefuelChestsAndInserters","refillFuelType","refillFuelAmount","connectTwoEntitiesWithWire","entity1","entity2","color","entity1ConNumber","entity2ConNumber","entity1Number","entity2Number","createWirePath","entity","conNumber","connections","entity_id","connectItemsWithWire","item1","item2","mirrorItemsHorizontal","copy","mirrorXOffset","changeItemsCoordinates","copyPasteItems","clone","mixSides","sidesUsed","leftArray","rightArray","console","assert","sort","a","b","zlib","createBlueprint","createNormalStation","createFluidStation","createStacker","createBlueprintString","blueprint","icons","signal","entities","version","label","deflateSync","JSON","stringify","level","toString","encode","stationTypes","inserterTypes","inserter","chestTypes","chestTypesHuman","beltTypes","beltTypesHuman","beltSides","pumpSides","beltFlowDirections","refillFuelTypes","refillFuelTypesHuman","wood","coal","stackerDiagonalTypes","stackerTypes","enabledConditionOperators","enabledConditionOperatorsHuman","defaultSettings","tooltipText","sequantialStationBeltsGoAllTheWay","includeTrainInBlueprint","pumpSidesToBeUsed","pumpConnectWithPipe","Array","fill","beltsEnabled","beltSidesUsed","refillEnabled","connectChestsWithGreenWire","connectBothSideWithGreenWire","connectChestsWithRedWire","connectBothSideWithRedWire","placeLampsNearPoles","stackerNumberParallelLanes","diagonalStacker","stackerType","allItems","rightSplitters","stationsTarget","stationYOffset","stationItems","rightChests","leftChests","chests","rightSideItems","newSplitters","rightPoles","leftPoles","poles","leftSideItems","rightLamps","leftLamps","trainStop","topPoles","bottomPoles","decider","combineArray","splitterSlice","slice","rightVerticalBelts","leftVerticalBelts","leftSplitters","trainStops","filter","railSignals","stop","rightStorageTanks","leftStorageTanks","rightPumps","leftPumps","rightPipes","leftPipes","storageTanks","frontLeftCurve","frontRightCurve","backLeftCurve","backRightCurve","diagonalFrontLeftCurve","diagonalFrontRightCurve","diagonalBackLeftCurve","diagonalBackRightCurve","createDiagonalStacker","createVerticalStacker","frontCurve","backCurve","trainLength","Math","floor","copyPasteBlueprint","doubleHeadedFactor","diagonalLength","round","diagonals","newDiagonals","CLASSES","TOOLTIPS","beltFlow","TrainTypeSettings","props","hideIfDiagonalStacker","userSettings","className","min","id","data-tip","checked","onChange","e","setUserSettings","target","htmlFor","value","hidden","InserterSettings","inserterSelect","isFilterInserter","newFilterInputField","list","placeholder","oldArray","newValue","setValueAtIndex","previousIsEmpty","filterInserterInputFields","_","SequentialStationSettings","ChestTypeSettings","chestTypesHtml","canRequestFromBufferChests","chestRequests","BeltTypeSettings","hideIfBotChests","beltTypesHtml","beltSideHtml","beltSide","beltFlowHtml","RefillSettings","fuelTypesHtml","fuelType","WireSettings","hiddenWhenNormalStation","hiddenWhenFluidStation","hiddenWhenNotBothSides","myCheckbox","keyName","EnabledConditionSettings","hideIfCheckboxDisabled","enabledConditionOperatorHtml","operator","LampsSettings","StationNameSettings","NormalStation","FluidSettings","pumpSideHtml","pumpSide","FluidStation","Title","Footer","rel","href","StackerSettings","stackerTypesHtml","Stacker","WarningMessage","warningMessage","ErrorMessage","errorMessage","verifyNumberInput","myInput","isNaN","Website","useState","blueprintString","setBlueprintString","setWarningMessage","setErrorMessage","useEffect","newWarningMessage","checkForHintsBlueprintSettings","newErrorMessage","numberAsString","validateBlueprintSettings","stationTypeSelect","stationTypeHtml","itemdatalist","itemlist","itemInfo","onClick","readOnly","debug","message","place","multiline","MyRouter","exact","path","App","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.ceeae599.chunk.js","sourcesContent":["import { iBlueprintItem, iBlueprintItemWithoutNumber, iWireColor } from \"../constants/interfaces\"\nimport {\n    botChestTypes,\n    defaultSettings,\n    DIRECTION,\n    filterInserters,\n    mirrorXOffset,\n    splitterTypes,\n} from \"../constants/constants\"\n\nconst cloneDeep = require(\"clone-deep\")\n\nexport let entityNumber = 1\nexport const resetEntityNumber = () => {\n    entityNumber = 1\n}\n\nexport const newItem = (\n    itemName: string,\n    x: number,\n    y: number,\n    options: {\n        direction?: number\n        orientation?: number\n        bar?: number\n        filters?: Array<{\n            index: number\n            name: string\n        }>\n        request_filters?: Array<{\n            index: number\n            name: string\n            count: number\n        }>\n        request_from_buffers?: boolean\n        station?: string\n        manual_trains_limit?: number\n        control_behavior?: {\n            decider_conditions?: {\n                first_signal: {\n                    type: string\n                    name: string\n                }\n                constant: number\n                comparator: string\n                output_signal: {\n                    type: string\n                    name: string\n                }\n                copy_count_from_input: boolean\n            }\n            circuit_condition?: {\n                first_signal: {\n                    type: string\n                    name: string\n                }\n                constant: number\n                comparator: string\n            }\n            circuit_enable_disable?: boolean\n        }\n    } = {}\n): iBlueprintItem => {\n    let item: iBlueprintItem = {\n        entity_number: entityNumber,\n        name: itemName,\n        position: {\n            x: x,\n            y: y,\n        },\n    }\n    if (options.direction) {\n        item.direction = options.direction\n    }\n    if (options.orientation) {\n        item.orientation = options.orientation\n    }\n    if (options.bar) {\n        item.bar = options.bar\n    }\n    if (options.filters) {\n        item.filters = options.filters\n    }\n    if (options.request_filters) {\n        item.request_filters = options.request_filters\n    }\n    if (options.request_from_buffers) {\n        item.request_from_buffers = options.request_from_buffers\n    }\n    if (options.control_behavior) {\n        item.control_behavior = options.control_behavior\n    }\n    if (options.station) {\n        item.station = options.station\n    }\n    if (options.manual_trains_limit) {\n        item.manual_trains_limit = options.manual_trains_limit\n    }\n    entityNumber += 1\n    return item\n}\nexport const assignEntityNumberToItems = (\n    items: iBlueprintItemWithoutNumber[],\n    xOffset: number = 0,\n    yOffset: number = 0\n): iBlueprintItem[] => {\n    return items.map((item) => {\n        return newItem(item.name, item.position.x + xOffset, item.position.y + yOffset, {\n            direction: item.direction,\n        })\n    })\n}\n// Get total train length but as array so I can loop over it\nexport const getTrainArray = (\n    bpSettings: typeof defaultSettings,\n    startOffset = 0,\n    bottomOffset = 0\n) => {\n    let returnArray: number[] = []\n    let doubleHeaded = bpSettings.doubleHeaded ? 2 : 1\n    for (\n        let i = startOffset;\n        i <\n        (doubleHeaded * parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon)) *\n            7 +\n            bottomOffset;\n        i++\n    ) {\n        returnArray.push(i)\n    }\n    return returnArray\n}\n// Only front locomotives as array\nexport const getFrontLocomotivesArray = (\n    bpSettings: typeof defaultSettings,\n    startOffset = -3,\n    bottomOffset = -3\n) => {\n    let returnArray: number[] = []\n    for (let i = startOffset; i < parseInt(bpSettings.locomotivesPerEnd) * 7 + bottomOffset; i++) {\n        returnArray.push(i)\n    }\n    return returnArray\n}\n// Only back locomotives as array (or empty array if single headed)\nexport const getBackLocomotivesArray = (\n    bpSettings: typeof defaultSettings,\n    startOffset = -3,\n    bottomOffset = -3\n) => {\n    if (!bpSettings.doubleHeaded) return []\n    let returnArray: number[] = []\n    for (\n        let i =\n            (parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon)) * 7 +\n            startOffset;\n        i <\n        (2 * parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon)) * 7 +\n            bottomOffset;\n        i++\n    ) {\n        returnArray.push(i)\n    }\n    return returnArray\n}\n// Returns an array of y-offsets where the cargo is\nexport const getCargoArray = (bpSettings: typeof defaultSettings, startOffset = -3) => {\n    let returnArray: number[] = []\n    let bottomOffset = 1\n    for (\n        let i = parseInt(bpSettings.locomotivesPerEnd) * 7 + startOffset;\n        i <\n        (parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon)) * 7 +\n            startOffset +\n            bottomOffset;\n        i++\n    ) {\n        returnArray.push(i)\n    }\n    return returnArray\n}\n\nexport const placeTrainTracks = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    getTrainArray(bpSettings, -4).forEach((i) => {\n        if (i % 2 === 1) return\n        returnArray.push(newItem(\"straight-rail\", -1.5, i))\n    })\n    return returnArray\n}\n\nexport const placeSignals = (bpSettings: typeof defaultSettings, stationNumber: number) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    let start = 0\n    let doubleHeaded = bpSettings.doubleHeaded ? 2 : 1\n    let singleHeadedOffset = bpSettings.doubleHeaded ? 0 : 1\n    let end =\n        (doubleHeaded * parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon)) *\n            7 +\n        singleHeadedOffset\n    // Stacker\n    if (bpSettings.stationType === \"Stacker\") {\n        returnArray.push(\n            newItem(\"rail-chain-signal\", 0, start - 3.5, { direction: DIRECTION.DOWN })\n        )\n        returnArray.push(newItem(\"rail-signal\", 0, end - 2.5, { direction: DIRECTION.DOWN }))\n    }\n    // If sequential station: place chain signal at front, rail signal between, rail signal at the back\n    else if (bpSettings.sequentialStation) {\n        if (stationNumber === 0) {\n            returnArray.push(\n                newItem(\"rail-chain-signal\", 0, start - 3.5, { direction: DIRECTION.DOWN })\n            )\n        }\n        if (stationNumber === parseInt(bpSettings.sequentialStationsAmount) - 1) {\n            returnArray.push(newItem(\"rail-signal\", 0, end - 2.5, { direction: DIRECTION.DOWN }))\n        }\n        if (stationNumber > 0) {\n            returnArray.push(newItem(\"rail-signal\", 0, start - 3.5, { direction: DIRECTION.DOWN }))\n        }\n    }\n    // Normal station\n    else {\n        if (bpSettings.doubleHeaded) {\n            // Chain signal at the back if double headed, because I assume double headed trains exit the same way they went in\n            returnArray.push(\n                newItem(\"rail-chain-signal\", -3, end - 2.5, { direction: DIRECTION.UP })\n            )\n        } else {\n            // Chain signal at the front if not double headed\n            returnArray.push(\n                newItem(\"rail-chain-signal\", 0, start - 3.5, { direction: DIRECTION.DOWN })\n            )\n        }\n        // Rail signal at the back\n        returnArray.push(newItem(\"rail-signal\", 0, end - 2.5, { direction: DIRECTION.DOWN }))\n    }\n\n    return returnArray\n}\n\nexport const placeTrainStop = (bpSettings: typeof defaultSettings) => {\n    // Size is 2x2, so coordinate ends in .0\n    let returnArray: iBlueprintItem[] = []\n    let controlBehavior = bpSettings.trainStopUsesEnabledCondition\n        ? {\n              circuit_condition: {\n                  first_signal: {\n                      type: \"virtual\",\n                      name: \"signal-red\",\n                  },\n                  constant: 0,\n                  comparator: \">\",\n              },\n              circuit_enable_disable: true,\n          }\n        : undefined\n    let options = {\n        station: bpSettings.stationName !== \"\" ? bpSettings.stationName : undefined,\n        manual_trains_limit:\n            bpSettings.trainLimit !== \"\" && parseInt(bpSettings.trainLimit) >= 0\n                ? parseInt(bpSettings.trainLimit)\n                : undefined,\n        control_behavior: controlBehavior,\n    }\n    returnArray.push(newItem(\"train-stop\", 0.5, -2, options))\n    return returnArray\n}\n\nexport const placeTrain = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    let count = 0\n    let doubleHeaded = bpSettings.doubleHeaded ? 2 : 1\n    let locoCount = parseInt(bpSettings.locomotivesPerEnd)\n    let cargoCount = parseInt(bpSettings.cargoWagon)\n    parseInt(bpSettings.cargoWagon)\n    // TODO Check if user wants train to be placed\n    getTrainArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 0) return\n        if (count < locoCount) {\n            returnArray.push(newItem(\"locomotive\", -1.5, y + 1))\n        } else if (count < locoCount + cargoCount) {\n            if (\n                [\"Loading Station\", \"Unloading Station\", \"Stacker\"].includes(bpSettings.stationType)\n            )\n                returnArray.push(newItem(\"cargo-wagon\", -1.5, y + 1))\n            else returnArray.push(newItem(\"fluid-wagon\", -1.5, y + 1))\n        } else if (count < locoCount * doubleHeaded + cargoCount) {\n            returnArray.push(newItem(\"locomotive\", -1.5, y + 1, { orientation: 0.5 }))\n        }\n        count += 1\n    })\n    return returnArray\n}\n\nexport const placeInserters = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    // Inserter direction = direction it grabs from\n    let returnArray: iBlueprintItem[] = []\n    let inserterType = bpSettings.enableFilterInserters\n        ? filterInserters[bpSettings.inserterType]\n        : bpSettings.inserterType\n    let inserterDirection =\n        bpSettings.stationType === \"Loading Station\" ? DIRECTION.RIGHT : DIRECTION.LEFT\n    let filterArray:\n        | undefined\n        | Array<{\n              index: number\n              name: string\n          }>\n    if (bpSettings.enableFilterInserters) {\n        filterArray = []\n        for (let i = 0; i < 5; i++) {\n            if (bpSettings.filterFields[i] === \"\") break\n            filterArray.push({\n                index: i + 1,\n                name: bpSettings.filterFields[i],\n            })\n        }\n    }\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 0) return\n        returnArray.push(\n            newItem(inserterType, 0, y + 0.5, {\n                direction: inserterDirection,\n                filters: filterArray,\n            })\n        )\n\n        // @ts-ignore\n        if (!botChestTypes.includes(bpSettings.chestType)) {\n            returnArray.push(\n                newItem(inserterType, 2, y + 0.5, {\n                    direction: inserterDirection,\n                    filters: filterArray,\n                })\n            )\n        }\n    })\n    return returnArray\n}\nexport const placeChests = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n\n    // For requester and buffer chests, add the requests\n    let isRequesterChest = [\"logistic-chest-requester\", \"logistic-chest-buffer\"].includes(\n        bpSettings.chestType\n    )\n    let requests: Array<{\n        index: number\n        name: string\n        count: number\n    }> = []\n    if (isRequesterChest) {\n        for (let i = 0; i < 12; i++) {\n            let itemType = bpSettings.chestRequestItemsType[i]\n            if (itemType === \"\") break\n            let itemAmount = bpSettings.chestRequestItemsAmount[i]\n            requests.push({\n                index: i + 1,\n                name: itemType,\n                count: parseInt(itemAmount),\n            })\n        }\n    }\n\n    let requestFromBuffers =\n        bpSettings.chestRequestFromBuffers && bpSettings.chestType === \"logistic-chest-requester\"\n            ? true\n            : undefined\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 0) return\n        returnArray.push(\n            newItem(bpSettings.chestType, 1, y + 0.5, {\n                bar: parseInt(bpSettings.chestLimit),\n                request_filters: requests.length === 0 ? undefined : requests,\n                request_from_buffers: requestFromBuffers,\n            })\n        )\n    })\n    return returnArray\n}\n// Belts between inserter and splitter\nexport const placeLoadingBelts = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 1) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.LEFT })\n            )\n        } else if (i % 7 === 2) {\n            returnArray.push(newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.UP }))\n        } else if (i % 7 === 3) {\n            returnArray.push(newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.UP }))\n        } else if (i % 7 === 4) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.DOWN })\n            )\n        } else if (i % 7 === 5) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.DOWN })\n            )\n        } else if (i % 7 === 6) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.LEFT })\n            )\n        }\n    })\n    return returnArray\n}\nexport const placeUnloadingBelts = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 1) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.DOWN })\n            )\n        } else if (i % 7 === 2) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.DOWN })\n            )\n        } else if (i % 7 === 3) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.RIGHT })\n            )\n        } else if (i % 7 === 4) {\n            returnArray.push(\n                newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.RIGHT })\n            )\n        } else if (i % 7 === 5) {\n            returnArray.push(newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.UP }))\n        } else if (i % 7 === 6) {\n            returnArray.push(newItem(bpSettings.beltType, 3, y + 0.5, { direction: DIRECTION.UP }))\n        }\n    })\n    return returnArray\n}\nexport const placePumps = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    let pumpDirection =\n        bpSettings.stationType === \"Fluid Loading Station\" ? DIRECTION.LEFT : DIRECTION.RIGHT\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 1) {\n            returnArray.push(\n                // Storage tank facing UP has connection topleft and bottomright\n                newItem(\"pump\", 0.5, y + 0.5, { direction: pumpDirection })\n            )\n        }\n        if (i % 7 === 6) {\n            // Storage tank facing RIGHT has connection topright and bottomleft\n            returnArray.push(newItem(\"pump\", 0.5, y + 0.5, { direction: pumpDirection }))\n        }\n    })\n    return returnArray\n}\nexport const placeStorageTanks = (bpSettings: typeof defaultSettings) => {\n    // Size is 3x3, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 === 2) {\n            // Storage tank facing UP has connection topleft and bottomright\n            returnArray.push(newItem(\"storage-tank\", 3, y + 0.5))\n        }\n        if (i % 7 === 5) {\n            // Storage tank facing RIGHT has connection topright and bottomleft\n            returnArray.push(newItem(\"storage-tank\", 3, y + 0.5, { direction: DIRECTION.RIGHT }))\n        }\n    })\n    return returnArray\n}\nexport const placePipes = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i, array) => {\n        if (i !== 0 && i !== array.length - 1 && i % 7 === 0) {\n            // Storage tank facing UP has connection topleft and bottomright\n            returnArray.push(newItem(\"pipe\", 2, y + 0.5))\n        }\n    })\n    return returnArray\n}\n// Belts that go from splitter to front/back\nexport const placeVerticalBelts = (\n    bpSettings: typeof defaultSettings,\n    splitters: Array<iBlueprintItem>\n) => {\n    let returnArray: iBlueprintItem[] = []\n    let mode = bpSettings.stationType === \"Loading Station\" ? \"load\" : \"unload\"\n    let beltEnd = bpSettings.beltFlowDirection\n    sortByYPosition(splitters)\n    let x = 5\n    // Unloading to front, splitters[0] is the front splitter\n    if (mode === \"unload\" && beltEnd === \"Front\") {\n        splitters.forEach((splitter) => {\n            for (let y = splitters[0].position.y; y <= splitter.position.y; y++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, x, y - 0.5, { direction: DIRECTION.UP })\n                )\n            }\n            for (let i = splitter.position.x + 1; i < x; i++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, i, splitter.position.y - 0.5, {\n                        direction: DIRECTION.RIGHT,\n                    })\n                )\n            }\n            x += 1\n        })\n    }\n    // Unloading to back, splitters[0] is the back splitter\n    if (mode === \"unload\" && beltEnd === \"Back\") {\n        splitters.reverse()\n        splitters.forEach((splitter) => {\n            for (let y = splitters[0].position.y; y >= splitter.position.y; y--) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, x, y + 0.5, { direction: DIRECTION.DOWN })\n                )\n            }\n            for (let i = splitter.position.x + 1; i < x; i++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, i, splitter.position.y + 0.5, {\n                        direction: DIRECTION.RIGHT,\n                    })\n                )\n            }\n            x += 1\n        })\n    }\n    // Loading from front, splitters[0] is the front splitter\n    if (mode === \"load\" && beltEnd === \"Front\") {\n        splitters.forEach((splitter) => {\n            for (let y = splitters[0].position.y; y < splitter.position.y; y++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, x, y - 0.5, { direction: DIRECTION.DOWN })\n                )\n            }\n            for (let i = splitter.position.x + 1; i <= x; i++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, i, splitter.position.y - 0.5, {\n                        direction: DIRECTION.LEFT,\n                    })\n                )\n            }\n            x += 1\n        })\n    }\n    // Loading from back, splitters[0] is the back splitter\n    if (mode === \"load\" && beltEnd === \"Back\") {\n        splitters.reverse()\n        splitters.forEach((splitter) => {\n            for (let y = splitters[0].position.y; y > splitter.position.y; y--) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, x, y + 0.5, { direction: DIRECTION.UP })\n                )\n            }\n            for (let i = splitter.position.x + 1; i <= x; i++) {\n                returnArray.push(\n                    newItem(bpSettings.beltType, i, splitter.position.y + 0.5, {\n                        direction: DIRECTION.LEFT,\n                    })\n                )\n            }\n            x += 1\n        })\n    }\n    return returnArray\n}\nexport const placeCurvedRail = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    let splitterType = splitterTypes[bpSettings.beltType]\n    let splitterDirection =\n        bpSettings.stationType === \"Loading Station\" ? DIRECTION.LEFT : DIRECTION.RIGHT\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 4) return\n        returnArray.push(newItem(splitterType, 4, y, { direction: splitterDirection }))\n    })\n    return returnArray\n}\nexport const placeStraightRail = (\n    bpSettings: typeof defaultSettings,\n    xOffset = 0,\n    yOffset = 0,\n    direction: DIRECTION = DIRECTION.UP\n) => {\n    /*\n    Vertical rails: DIRECTION.UP\n    Horizontal rails: DIRECTION.RIGHT\n     */\n    let returnArray: iBlueprintItem[] = []\n    let splitterType = splitterTypes[bpSettings.beltType]\n    let splitterDirection =\n        bpSettings.stationType === \"Loading Station\" ? DIRECTION.LEFT : DIRECTION.RIGHT\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 4) return\n        returnArray.push(newItem(splitterType, 4, y, { direction: splitterDirection }))\n    })\n    return returnArray\n}\nexport const placeSplitters = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    let splitterType = splitterTypes[bpSettings.beltType]\n    let splitterDirection =\n        bpSettings.stationType === \"Loading Station\" ? DIRECTION.LEFT : DIRECTION.RIGHT\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 4) return\n        returnArray.push(newItem(splitterType, 4, y, { direction: splitterDirection }))\n    })\n    return returnArray\n}\nexport const placePoles = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 0) return\n        returnArray.push(newItem(\"medium-electric-pole\", 0, y + 0.5))\n    })\n    return returnArray\n}\nexport const placeLamps = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getCargoArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 0) return\n        returnArray.push(newItem(\"small-lamp\", 1, y + 0.5))\n    })\n    return returnArray\n}\nexport const placeDecider = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    returnArray.push(\n        newItem(\"decider-combinator\", 0, 1, {\n            control_behavior: {\n                decider_conditions: {\n                    first_signal: {\n                        type: \"virtual\",\n                        name: \"signal-anything\",\n                    },\n                    constant: parseInt(bpSettings.enabledConditionAmount),\n                    comparator: bpSettings.enabledConditionOperator,\n                    output_signal: {\n                        type: \"virtual\",\n                        name: \"signal-red\",\n                    },\n                    copy_count_from_input: false,\n                },\n            },\n        })\n    )\n    return returnArray\n}\n// Refuel\nexport const placeTopRefuelPoles = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    getFrontLocomotivesArray(bpSettings).forEach((y, i, array) => {\n        if (i % 7 !== 0 || array.length === i - 1 || i === 0) return\n        returnArray.push(newItem(\"medium-electric-pole\", 0, y + 0.5))\n    })\n    return returnArray\n}\nexport const placeBottomRefuelPoles = (bpSettings: typeof defaultSettings) => {\n    let returnArray: iBlueprintItem[] = []\n    getBackLocomotivesArray(bpSettings).forEach((y, i, array) => {\n        if (i % 7 !== 0 || array.length === i - 1 || i === 0) return\n        returnArray.push(newItem(\"medium-electric-pole\", 0, y + 0.5))\n    })\n    return returnArray\n}\nexport const placeRefuelChestsAndInserters = (bpSettings: typeof defaultSettings) => {\n    // Size is 1x1, so coordinate ends in 0.5\n    let returnArray: iBlueprintItem[] = []\n    getFrontLocomotivesArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 6) return\n        returnArray.push(newItem(\"inserter\", 0, y + 0.5, { direction: DIRECTION.RIGHT }))\n        returnArray.push(\n            newItem(\"logistic-chest-requester\", 1, y + 0.5, {\n                request_filters: [\n                    {\n                        index: 1,\n                        name: bpSettings.refillFuelType,\n                        count: parseInt(bpSettings.refillFuelAmount),\n                    },\n                ],\n            })\n        )\n    })\n    getBackLocomotivesArray(bpSettings).forEach((y, i) => {\n        if (i % 7 !== 1) return\n        returnArray.push(newItem(\"inserter\", 0, y + 0.5, { direction: DIRECTION.RIGHT }))\n        returnArray.push(\n            newItem(\"logistic-chest-requester\", 1, y + 0.5, {\n                request_filters: [\n                    {\n                        index: 1,\n                        name: bpSettings.refillFuelType,\n                        count: parseInt(bpSettings.refillFuelAmount),\n                    },\n                ],\n            })\n        )\n    })\n    return returnArray\n}\n// Wire functions\nexport const connectTwoEntitiesWithWire = (\n    entity1: iBlueprintItem,\n    entity2: iBlueprintItem,\n    color: iWireColor,\n    entity1ConNumber: \"1\" | \"2\" = \"1\",\n    entity2ConNumber: \"1\" | \"2\" = \"1\"\n) => {\n    let entity1Number = entity1.entity_number\n    let entity2Number = entity2.entity_number\n\n    let createWirePath = (entity: iBlueprintItem, conNumber: \"1\" | \"2\") => {\n        if (!entity.connections) {\n            entity.connections = {}\n        }\n        if (!entity.connections[conNumber]) {\n            entity.connections[conNumber] = {}\n        }\n        // @ts-ignore\n        if (!entity.connections[conNumber][color]) {\n            // @ts-ignore\n            entity.connections[conNumber][color] = []\n        }\n    }\n\n    createWirePath(entity1, entity1ConNumber)\n    createWirePath(entity2, entity2ConNumber)\n    // @ts-ignore\n    entity1.connections[entity1ConNumber][color].push({ entity_id: entity2Number })\n    // @ts-ignore\n    entity2.connections[entity2ConNumber][color].push({ entity_id: entity1Number })\n}\nexport const connectItemsWithWire = (items: iBlueprintItem[], color: iWireColor) => {\n    items.forEach((item1, index) => {\n        if (index === 0) return\n        let item2 = items[index - 1]\n        connectTwoEntitiesWithWire(item1, item2, color)\n    })\n}\n// Helper functions\nexport const mirrorItemsHorizontal = (items: iBlueprintItem[]) => {\n    // Returns a new array with clones of items\n    return items.map((item) => {\n        let copy = cloneDeep(item) as iBlueprintItem\n        copy.entity_number = entityNumber\n        entityNumber += 1\n        copy.position.x = -copy.position.x + mirrorXOffset\n        if (copy.name === \"storage-tank\") {\n            if (!copy.direction) copy.direction = 2\n            else copy.direction = undefined\n        } else {\n            if (copy.direction === DIRECTION.LEFT) copy.direction = DIRECTION.RIGHT\n            else if (copy.direction === DIRECTION.RIGHT) copy.direction = DIRECTION.LEFT\n        }\n        return copy\n    })\n}\nexport const changeItemsCoordinates = (items: iBlueprintItem[], x = 0, y = 0) => {\n    // Changes the items directly\n    items.forEach((item) => {\n        item.position = {\n            x: item.position.x + x,\n            y: item.position.y + y,\n        }\n    })\n}\nexport const copyPasteItems = (items: iBlueprintItem[], x = 0, y = 0) => {\n    // Changes the items directly\n    return items.map((item) => {\n        let clone: iBlueprintItem = cloneDeep(item)\n        clone.entity_number = entityNumber\n        entityNumber += 1\n        clone.position = {\n            x: clone.position.x + x,\n            y: clone.position.y + y,\n        }\n        return clone\n    })\n}\nexport const mixSides = (\n    sidesUsed: \"Both\" | \"Right\" | \"Left\",\n    leftArray: iBlueprintItem[],\n    rightArray: iBlueprintItem[]\n) => {\n    if (sidesUsed === \"Both\") {\n        return [...leftArray, ...rightArray]\n    } else if (sidesUsed === \"Left\") {\n        return leftArray\n    } else if (sidesUsed === \"Right\") {\n        return rightArray\n    }\n    console.assert(\"Error returning empty array\")\n    return []\n}\nexport const sortByYPosition = (items: iBlueprintItem[]) => {\n    items.sort((a, b) => {\n        // Smaller y first\n        if (a.position.y < b.position.y) {\n            return -1\n        } else if (a.position.y > b.position.y) {\n            return 1\n        }\n        // If equal, sort by x (right side first)\n        if (a.position.x < b.position.x) {\n            return 1\n        } else if (a.position.x > b.position.x) {\n            return -1\n        }\n        return 0\n    })\n}\n","import { defaultSettings } from \"../constants/constants\"\nimport { iBlueprint, iBlueprintItem } from \"../constants/interfaces\"\nimport { createNormalStation } from \"./CreateNormalStation\"\nimport { createFluidStation } from \"./CreateFluidStation\"\nimport { createStacker } from \"./CreateStacker\"\nconst zlib = require(\"zlib\")\n\nexport const createBlueprint = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    /*\n    TODO\n    Add template for github:\n    new feature or issue description\n    in what circumstances the feature would be used (explain why your feature is useful)\n    issue: which setting creates the bug and what is the bug (explain your bug)\n\n     */\n\n    if ([\"Loading Station\", \"Unloading Station\"].includes(bpSettings.stationType)) {\n        return createNormalStation(bpSettings)\n    }\n    if ([\"Fluid Loading Station\", \"Fluid Unloading Station\"].includes(bpSettings.stationType)) {\n        return createFluidStation(bpSettings)\n    } else if (bpSettings.stationType === \"Stacker\") {\n        return createStacker(bpSettings)\n    }\n    return []\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst decode = (blueprintString: string) => {\n    // UNTESTED stolen from https://github.com/demipixel/factorio-blueprint/blob/c21309e9023ee3740a5c3c647d87cb828ab3ecc4/src/util.ts#L20\n    return JSON.parse(\n        zlib.inflateSync(Buffer.from(blueprintString.slice(1), \"base64\")).toString(\"utf8\")\n    )\n}\n\nconst encode = (items: any[]) => {\n    let blueprint = {\n        blueprint: {\n            icons: [\n                {\n                    signal: {\n                        type: \"item\",\n                        name: \"transport-belt\",\n                    },\n                    index: 1,\n                },\n            ],\n            entities: items,\n            item: \"blueprint\",\n            version: \"0\",\n            label: \"Blueprint\",\n        },\n    }\n    return \"0\" + zlib.deflateSync(JSON.stringify(blueprint), { level: 9 }).toString(\"base64\")\n}\n\nexport const createBlueprintString = (blueprint: iBlueprint): string => {\n    // Stolen from https://github.com/demipixel/factorio-blueprint/blob/c21309e9023ee3740a5c3c647d87cb828ab3ecc4/src/util.ts#L41\n    return encode(blueprint)\n}\n","export const mirrorXOffset = -3\n\nexport let stationTypes = [\n    \"Loading Station\",\n    \"Unloading Station\",\n    \"Fluid Loading Station\",\n    \"Fluid Unloading Station\",\n    \"Stacker\",\n] as const\n\nexport let inserterTypes = [\"inserter\", \"fast-inserter\", \"stack-inserter\"] as const\nexport let filterInserters = {\n    inserter: \"filter-inserter\",\n    \"fast-inserter\": \"filter-inserter\",\n    \"stack-inserter\": \"filter-inserter\",\n} as const\nexport let basicChestTypes = [\"wooden-chest\", \"iron-chest\", \"steel-chest\"] as const\nexport let botChestTypes = [\n    \"logistic-chest-requester\",\n    \"logistic-chest-buffer\",\n    \"logistic-chest-passive-provider\",\n    \"logistic-chest-active-provider\",\n    \"logistic-chest-storage\",\n] as const\nexport let chestTypes = [...basicChestTypes, ...botChestTypes] as const\nexport let chestTypesHuman = {\n    \"wooden-chest\": \"Wooden Chest\",\n    \"iron-chest\": \"Iron Chest\",\n    \"steel-chest\": \"Steel Chest\",\n    \"logistic-chest-requester\": \"Requester Chest\",\n    \"logistic-chest-buffer\": \"Buffer Chest\",\n    \"logistic-chest-passive-provider\": \"Passive Provider Chest\",\n    \"logistic-chest-active-provider\": \"Active Provider Chest\",\n    \"logistic-chest-storage\": \"Storage Chest\",\n} as const\nexport const beltTypes = [\n    \"transport-belt\",\n    \"fast-transport-belt\",\n    \"express-transport-belt\",\n] as const\nexport let beltTypesHuman = {\n    \"transport-belt\": \"Yellow Belt\",\n    \"fast-transport-belt\": \"Red Belt\",\n    \"express-transport-belt\": \"Blue Belt\",\n} as const\nexport let splitterTypes = {\n    \"transport-belt\": \"splitter\",\n    \"fast-transport-belt\": \"fast-splitter\",\n    \"express-transport-belt\": \"express-splitter\",\n} as const\nexport let beltSides = [\"Both\", \"Right\", \"Left\"] as const\nexport let pumpSides = [\"Right\", \"Left\"] as const\nexport let beltFlowDirections = [\"Front\", \"Back\", \"None\"] as const\nexport let refillFuelTypes = [\"wood\", \"coal\", \"solid-fuel\", \"rocket-fuel\", \"nuclear-fuel\"] as const\nexport let refillFuelTypesHuman = {\n    wood: \"Wood\",\n    coal: \"Coal\",\n    \"solid-fuel\": \"Solid Fuel\",\n    \"rocket-fuel\": \"Rocket Fuel\",\n    \"nuclear-fuel\": \"Nuclear Fuel\",\n} as const\n\nexport let stackerDiagonalTypes = [\"Left-Right\", \"Right-Left\"] as const\nexport let stackerTypes = [\"Left-Left\", \"Right-Right\", ...stackerDiagonalTypes] as const\n\nexport enum DIRECTION {\n    UP = 0,\n    RIGHT = 2,\n    DOWN = 4,\n    LEFT = 6,\n}\n\nexport let enabledConditionOperators = [\">\", \"<\"] as const\nexport let enabledConditionOperatorsHuman = { \">\": \"> (more than)\", \"<\": \"< (less than)\" } as const\n\nexport let defaultSettings = {\n    // Global tooltip text\n    tooltipText: \"\",\n\n    // Station type\n    stationType: [...stationTypes][0],\n    stationName: \"\",\n    trainLimit: \"\",\n\n    // Sequential Station\n    sequentialStation: false,\n    sequentialStationsAmount: \"3\",\n    sequantialStationBeltsGoAllTheWay: true,\n\n    // Train type\n    doubleHeaded: true,\n    locomotivesPerEnd: \"1\",\n    cargoWagon: \"2\",\n    includeTrainInBlueprint: true,\n\n    // Pump Settings\n    pumpSidesToBeUsed: [...pumpSides][0],\n    pumpConnectWithPipe: true,\n\n    // Inserter types\n    inserterType: [...inserterTypes][0],\n    enableFilterInserters: false,\n    // Items that need to be filtered, max array length: 5\n    filterFields: Array(5).fill(\"\"),\n\n    // Chest types and settings\n    chestType: [...chestTypes][1],\n    // How many slots in the chest are enabled\n    chestLimit: \"7\",\n    // For requester and buffer chests\n    chestRequestFromBuffers: true,\n    chestRequestItemsType: Array(12).fill(\"\"),\n    chestRequestItemsAmount: Array(12).fill(\"\"),\n\n    // Belt settings\n    beltsEnabled: true,\n    beltType: [...beltTypes][1],\n    beltSidesUsed: [...beltSides][0],\n    beltFlowDirection: [...beltFlowDirections][0],\n\n    // Refill at station?\n    refillEnabled: true,\n    refillFuelType: [...refillFuelTypes][2],\n    refillFuelAmount: \"20\",\n\n    // Wire settings\n    connectChestsWithGreenWire: false,\n    connectBothSideWithGreenWire: false,\n    connectChestsWithRedWire: false,\n    connectBothSideWithRedWire: false,\n\n    // Enabled condition:\n    trainStopUsesEnabledCondition: false,\n    enabledConditionOperator: [...enabledConditionOperators][0],\n    enabledConditionAmount: \"4000\",\n\n    // Lights\n    placeLampsNearPoles: false,\n\n    // Stacker settings\n    stackerNumberParallelLanes: \"3\",\n    diagonalStacker: true,\n    stackerType: [...stackerTypes][0],\n}\n","import { botChestTypes, defaultSettings } from \"../constants/constants\"\nimport { iBlueprintItem } from \"../constants/interfaces\"\nimport {\n    getTrainArray,\n    placeChests,\n    mirrorItemsHorizontal,\n    mixSides,\n    sortByYPosition,\n    connectItemsWithWire,\n    connectTwoEntitiesWithWire,\n    placeInserters,\n    placeLoadingBelts,\n    placeUnloadingBelts,\n    placePoles,\n    placeTrainTracks,\n    placeSignals,\n    placeTrainStop,\n    placeRefuelChestsAndInserters,\n    placeTopRefuelPoles,\n    placeBottomRefuelPoles,\n    placeDecider,\n    placeLamps,\n    placeSplitters,\n    changeItemsCoordinates,\n    placeTrain,\n    placeVerticalBelts,\n    resetEntityNumber,\n} from \"./CreateItems\"\n\nexport const createNormalStation = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    resetEntityNumber()\n    let allItems: iBlueprintItem[] = []\n    let rightSplitters: iBlueprintItem[] = []\n\n    let stationsTarget = bpSettings.sequentialStation ? bpSettings.sequentialStationsAmount : 1\n    // For each station, create all items, then shift them down\n    for (let stationNumber = 0; stationNumber < stationsTarget; stationNumber++) {\n        const stationYOffset = (getTrainArray(bpSettings).length + 2) * stationNumber\n\n        let stationItems: iBlueprintItem[] = []\n        // Create chests and connect them with wire\n        let rightChests = placeChests(bpSettings)\n        let leftChests = mirrorItemsHorizontal(rightChests)\n        let chests = mixSides(bpSettings.beltSidesUsed, leftChests, rightChests)\n        // Sorting not required?\n        sortByYPosition(rightChests)\n        sortByYPosition(leftChests)\n        if (bpSettings.connectChestsWithGreenWire) {\n            connectItemsWithWire(leftChests, \"green\")\n            connectItemsWithWire(rightChests, \"green\")\n            if (bpSettings.connectBothSideWithGreenWire && bpSettings.beltSidesUsed === \"Both\") {\n                connectTwoEntitiesWithWire(rightChests[0], leftChests[0], \"green\")\n            }\n        }\n        if (bpSettings.connectChestsWithRedWire) {\n            connectItemsWithWire(leftChests, \"red\")\n            connectItemsWithWire(rightChests, \"red\")\n            if (bpSettings.connectBothSideWithRedWire && bpSettings.beltSidesUsed === \"Both\") {\n                connectTwoEntitiesWithWire(rightChests[0], leftChests[0], \"red\")\n            }\n        }\n\n        // Mirrorable items\n        let rightSideItems: iBlueprintItem[] = []\n        // Exclude belts and splitters (and without splitters: no vertical belts) if chest type uses bots\n        // @ts-ignore\n        if (!botChestTypes.includes(bpSettings.chestType)) {\n            let newSplitters = placeSplitters(bpSettings)\n            changeItemsCoordinates(newSplitters, 0, stationYOffset)\n            rightSplitters = [...rightSplitters, ...newSplitters]\n            if (bpSettings.stationType === \"Loading Station\") {\n                rightSideItems = [...rightSideItems, ...placeLoadingBelts(bpSettings)]\n            } else {\n                // Unloading station\n                rightSideItems = [...rightSideItems, ...placeUnloadingBelts(bpSettings)]\n            }\n        }\n        rightSideItems = [...rightSideItems, ...placeInserters(bpSettings)]\n\n        let rightPoles = placePoles(bpSettings)\n        let leftPoles = mirrorItemsHorizontal(rightPoles)\n        let poles = mixSides(bpSettings.beltSidesUsed, leftPoles, rightPoles)\n        let leftSideItems: iBlueprintItem[] = mirrorItemsHorizontal(rightSideItems)\n\n        // Combine remaining items which were already mirrored and offset-ed\n        rightSideItems = [...rightSideItems, ...rightPoles, ...rightChests]\n        leftSideItems = [...leftSideItems, ...leftPoles, ...leftChests]\n        if (bpSettings.placeLampsNearPoles) {\n            let rightLamps = placeLamps(bpSettings)\n            let leftLamps = mirrorItemsHorizontal(rightLamps)\n            rightSideItems = [...rightSideItems, ...rightLamps]\n            leftSideItems = [...leftSideItems, ...leftLamps]\n        }\n\n        // All items that need no mirroring (tracks, signals, train stops, refuel chests and inserter, poles for those, decider combinator)\n        stationItems = [...stationItems, ...placeTrainTracks(bpSettings)]\n        stationItems = [...stationItems, ...placeSignals(bpSettings, stationNumber)]\n        let trainStop = placeTrainStop(bpSettings)[0]\n        stationItems = [...stationItems, trainStop]\n        if (bpSettings.refillEnabled)\n            stationItems = [...stationItems, ...placeRefuelChestsAndInserters(bpSettings)]\n        if (bpSettings.refillEnabled || bpSettings.trainStopUsesEnabledCondition) {\n            let topPoles = placeTopRefuelPoles(bpSettings)\n            let bottomPoles = placeBottomRefuelPoles(bpSettings)\n            stationItems = [...stationItems, ...topPoles, ...bottomPoles]\n            if (bpSettings.trainStopUsesEnabledCondition) {\n                let decider = placeDecider(bpSettings)[0]\n                // Combine decider and trainstop with green wire\n                connectTwoEntitiesWithWire(decider, trainStop, \"green\", \"2\", \"1\")\n                // Combine decider and poles with green wire\n                sortByYPosition(chests)\n                sortByYPosition(poles)\n                let combineArray = [decider, chests[0], poles[0], ...topPoles]\n                sortByYPosition(combineArray)\n                connectItemsWithWire(combineArray, \"green\")\n                stationItems = [...stationItems, decider]\n            }\n        }\n        if (bpSettings.includeTrainInBlueprint) {\n            stationItems = [...stationItems, ...placeTrain(bpSettings)]\n        }\n\n        /*\n        TODO\n        liquid load/unload\n        stacker\n         */\n\n        // Combine left and right side items\n        stationItems = [\n            ...stationItems,\n            ...mixSides(bpSettings.beltSidesUsed, leftSideItems, rightSideItems),\n        ]\n\n        // Move all items by sequential station offset\n        changeItemsCoordinates(stationItems, 0, stationYOffset)\n        allItems = [...allItems, ...stationItems]\n    }\n\n    // If sequential and not lay all the way: go in splitter groups\n    if (bpSettings.sequentialStation && !bpSettings.sequantialStationBeltsGoAllTheWay) {\n        sortByYPosition(rightSplitters)\n        for (\n            let i = 0;\n            i < parseInt(bpSettings.cargoWagon) * parseInt(bpSettings.sequentialStationsAmount);\n            i += parseInt(bpSettings.cargoWagon)\n        ) {\n            let splitterSlice = rightSplitters.slice(i, i + parseInt(bpSettings.cargoWagon))\n            let rightVerticalBelts = placeVerticalBelts(bpSettings, splitterSlice)\n            let leftVerticalBelts = mirrorItemsHorizontal(rightVerticalBelts)\n            allItems = [\n                ...allItems,\n                ...mixSides(bpSettings.beltSidesUsed, leftVerticalBelts, rightVerticalBelts),\n            ]\n        }\n    }\n    // If sequential: lay all-the-way belts\n    else if (bpSettings.beltFlowDirection !== \"None\") {\n        let rightVerticalBelts = placeVerticalBelts(bpSettings, rightSplitters)\n        let leftVerticalBelts = mirrorItemsHorizontal(rightVerticalBelts)\n        allItems = [\n            ...allItems,\n            ...mixSides(bpSettings.beltSidesUsed, leftVerticalBelts, rightVerticalBelts),\n        ]\n    }\n    // Add splitters which were previously globally collected to create vertical belts\n    let leftSplitters = mirrorItemsHorizontal(rightSplitters)\n    allItems = [...allItems, ...mixSides(bpSettings.beltSidesUsed, leftSplitters, rightSplitters)]\n\n    // If sequential: connect train stop with next rail signal (green wire)\n    let trainStops = allItems.filter((item) => {\n        return item.name === \"train-stop\"\n    })\n    let railSignals = allItems.filter((item) => {\n        return item.name === \"rail-signal\"\n    })\n    sortByYPosition(trainStops)\n    sortByYPosition(railSignals)\n    trainStops.slice(1).forEach((stop, i) => {\n        let signal = railSignals[i]\n        connectTwoEntitiesWithWire(stop, signal, \"green\")\n    })\n\n    // All items are off by 0.5, fix here\n    changeItemsCoordinates(allItems, -0.5)\n    return allItems\n}\n","import { defaultSettings } from \"../constants/constants\"\nimport { iBlueprintItem } from \"../constants/interfaces\"\nimport {\n    getTrainArray,\n    mirrorItemsHorizontal,\n    mixSides,\n    sortByYPosition,\n    connectItemsWithWire,\n    connectTwoEntitiesWithWire,\n    placePoles,\n    placeTrainTracks,\n    placeSignals,\n    placeTrainStop,\n    placeRefuelChestsAndInserters,\n    placeTopRefuelPoles,\n    placeBottomRefuelPoles,\n    placeDecider,\n    placeLamps,\n    changeItemsCoordinates,\n    placeTrain,\n    resetEntityNumber,\n    placeStorageTanks,\n    placePumps,\n    placePipes,\n} from \"./CreateItems\"\n\nexport const createFluidStation = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    resetEntityNumber()\n    let allItems: iBlueprintItem[] = []\n\n    let stationsTarget = bpSettings.sequentialStation ? bpSettings.sequentialStationsAmount : 1\n    // For each station, create all items, then shift them down\n    for (let stationNumber = 0; stationNumber < stationsTarget; stationNumber++) {\n        const stationYOffset = (getTrainArray(bpSettings).length + 2) * stationNumber\n\n        let stationItems: iBlueprintItem[] = []\n        // TODO place storage tanks and connect them with wire\n        // Sorting not required?\n        let rightStorageTanks: iBlueprintItem[] = placeStorageTanks(bpSettings)\n        let leftStorageTanks: iBlueprintItem[] = mirrorItemsHorizontal(rightStorageTanks)\n        sortByYPosition(rightStorageTanks)\n        sortByYPosition(leftStorageTanks)\n        if (bpSettings.connectChestsWithGreenWire) {\n            connectItemsWithWire(leftStorageTanks, \"green\")\n            connectItemsWithWire(rightStorageTanks, \"green\")\n        }\n        if (bpSettings.connectChestsWithRedWire) {\n            connectItemsWithWire(leftStorageTanks, \"red\")\n            connectItemsWithWire(rightStorageTanks, \"red\")\n        }\n\n        // Mirrorable items\n        let rightSideItems: iBlueprintItem[] = []\n\n        let rightPoles = placePoles(bpSettings)\n        let leftPoles = mirrorItemsHorizontal(rightPoles)\n        let poles = mixSides(bpSettings.pumpSidesToBeUsed, leftPoles, rightPoles)\n        let leftSideItems: iBlueprintItem[] = mirrorItemsHorizontal(rightSideItems)\n        let rightPumps = placePumps(bpSettings)\n        let leftPumps = mirrorItemsHorizontal(rightPumps)\n        let rightPipes = placePipes(bpSettings)\n        let leftPipes = mirrorItemsHorizontal(rightPipes)\n\n        // Combine remaining items which were already mirrored and offset-ed\n        // TODO Add storage tanks here\n        if (bpSettings.placeLampsNearPoles) {\n            let rightLamps = placeLamps(bpSettings)\n            let leftLamps = mirrorItemsHorizontal(rightLamps)\n            rightSideItems = [...rightSideItems, ...rightLamps]\n            leftSideItems = [...leftSideItems, ...leftLamps]\n        }\n        rightSideItems = [...rightSideItems, ...rightPoles, ...rightPumps, ...rightPipes]\n        leftSideItems = [...leftSideItems, ...leftPoles, ...leftPumps, ...leftPipes]\n\n        // All items that need no mirroring (tracks, signals, train stops, refuel chests and inserter, poles for those, decider combinator)\n        stationItems = [...stationItems, ...placeTrainTracks(bpSettings)]\n        stationItems = [...stationItems, ...placeSignals(bpSettings, stationNumber)]\n        let trainStop = placeTrainStop(bpSettings)[0]\n        stationItems = [...stationItems, trainStop]\n        if (bpSettings.refillEnabled)\n            stationItems = [...stationItems, ...placeRefuelChestsAndInserters(bpSettings)]\n        if (bpSettings.refillEnabled || bpSettings.trainStopUsesEnabledCondition) {\n            let topPoles = placeTopRefuelPoles(bpSettings)\n            let bottomPoles = placeBottomRefuelPoles(bpSettings)\n            stationItems = [...stationItems, ...topPoles, ...bottomPoles]\n            if (bpSettings.trainStopUsesEnabledCondition) {\n                let decider = placeDecider(bpSettings)[0]\n                // Combine decider and trainstop with green wire\n                connectTwoEntitiesWithWire(decider, trainStop, \"green\", \"2\", \"1\")\n                // Combine decider and poles with green wire\n                // TODO Connect storage tank with pole\n                let storageTanks = mixSides(\n                    bpSettings.pumpSidesToBeUsed,\n                    leftStorageTanks,\n                    rightStorageTanks\n                )\n                sortByYPosition(storageTanks)\n                sortByYPosition(poles)\n                let combineArray = [decider, storageTanks[0], poles[0], ...topPoles]\n                sortByYPosition(combineArray)\n                connectItemsWithWire(combineArray, \"green\")\n                stationItems = [...stationItems, decider]\n            }\n        }\n        if (bpSettings.includeTrainInBlueprint) {\n            stationItems = [...stationItems, ...placeTrain(bpSettings)]\n        }\n\n        /*\n        TODO\n        liquid load/unload\n        stacker\n         */\n\n        // Combine left and right side items\n        stationItems = [\n            ...stationItems,\n            ...mixSides(bpSettings.pumpSidesToBeUsed, leftSideItems, rightSideItems),\n            ...mixSides(bpSettings.pumpSidesToBeUsed, leftStorageTanks, rightStorageTanks),\n        ]\n\n        // Move all items by sequential station offset\n        changeItemsCoordinates(stationItems, 0, stationYOffset)\n        allItems = [...allItems, ...stationItems]\n    }\n\n    // If sequential: connect train stop with next rail signal (green wire)\n    let trainStops = allItems.filter((item) => {\n        return item.name === \"train-stop\"\n    })\n    let railSignals = allItems.filter((item) => {\n        return item.name === \"rail-signal\"\n    })\n    sortByYPosition(trainStops)\n    sortByYPosition(railSignals)\n    trainStops.slice(1).forEach((stop, i) => {\n        let signal = railSignals[i]\n        connectTwoEntitiesWithWire(stop, signal, \"green\")\n    })\n\n    // All items are off by 0.5, fix here\n    changeItemsCoordinates(allItems, -0.5)\n    return allItems\n}\n","import { iBlueprintItemWithoutNumber } from \"./interfaces\"\n\n// (0, 0) bending left 90 degrees to (-1, 1) curve\nexport const frontLeftCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 0,\n            y: 0,\n        },\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -4,\n            y: -4,\n        },\n        direction: 1,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: -6,\n            y: -6,\n        },\n        direction: 3,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -11,\n            y: -8,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -13,\n            y: -8,\n        },\n        direction: 2,\n    },\n]\n// (0, 0) bending right 90 degrees to (1, 1) curve\nexport const frontRightCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 2,\n            y: 0,\n        },\n        direction: 1,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 5,\n            y: -5,\n        },\n        direction: 7,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 8,\n            y: -6,\n        },\n        direction: 6,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 13,\n            y: -9,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 15,\n            y: -9,\n        },\n        direction: 2,\n    },\n]\n// (-1, -1) bending left 90 degreses to (0, 0)  curve\nexport const backLeftCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 0,\n            y: 6,\n        },\n        direction: 5,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -3,\n            y: 7,\n        },\n        direction: 3,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: -6,\n            y: 12,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -11,\n            y: 11,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -13,\n            y: 11,\n        },\n        direction: 2,\n    },\n]\n// (1, -1) bending right 90 degreses to (0, 0)  curve\nexport const backRightCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 2,\n            y: 5,\n        },\n        direction: 4,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 5,\n            y: 7,\n        },\n        direction: 5,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 8,\n            y: 11,\n        },\n        direction: 7,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 13,\n            y: 11,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 15,\n            y: 11,\n        },\n        direction: 2,\n    },\n]\n","import { iBlueprintItemWithoutNumber } from \"./interfaces\"\n\n// (0, 0) bending left 45 degrees to (-1, 2) curve\n// The diagonal should be a bottomright-to-topright diagonal with the ending rail piece being the topleft piece\nexport const diagonalFrontLeftCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 0,\n            y: 0,\n        },\n        direction: 5,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -1,\n            y: -7,\n        },\n        direction: 0,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -1,\n            y: -9,\n        },\n        direction: 0,\n    },\n    {\n        name: \"rail-chain-signal\",\n        position: {\n            x: -3.5,\n            y: 4.5,\n        },\n        direction: 5,\n    },\n]\n// (0, 0) bending right 45 degrees to (2, 1) curve\n// The diagonal should be a bottomright-to-topright diagonal with the ending rail piece being the topleft piece\nexport const diagonalFrontRightCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -3,\n            y: 2,\n        },\n        direction: 7,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: 2,\n            y: 0,\n        },\n        direction: 6,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 5,\n            y: -3,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: 7,\n            y: -3,\n        },\n        direction: 2,\n    },\n    {\n        name: \"rail-chain-signal\",\n        position: {\n            x: -0.5,\n            y: 1.5,\n        },\n        direction: 5,\n    },\n]\n// (-2, -1) bending left 45 degreses to (0, 0) curve\nexport const diagonalBackLeftCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -9 - 6,\n            y: 9 - 4,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -7 - 6,\n            y: 9 - 4,\n        },\n        direction: 2,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: -6,\n            y: 6,\n        },\n        direction: 2,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -5,\n            y: 1,\n        },\n        direction: 3,\n    },\n    {\n        name: \"rail-signal\",\n        position: {\n            x: -3.5 + 2,\n            y: 4.5 - 2,\n        },\n        direction: 5,\n    },\n]\n// (1, -2) bending right 45 degreses to (0, 0) curve\nexport const diagonalBackRightCurve: iBlueprintItemWithoutNumber[] = [\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -1 - 6,\n            y: 9,\n        },\n        direction: 0,\n    },\n    {\n        name: \"straight-rail\",\n        position: {\n            x: -1 - 6,\n            y: 11,\n        },\n        direction: 0,\n    },\n    {\n        name: \"curved-rail\",\n        position: {\n            x: -4,\n            y: 6,\n        },\n        direction: 1,\n    },\n    {\n        name: \"rail-signal\",\n        position: {\n            x: -2.5,\n            y: 3.5,\n        },\n        direction: 5,\n    },\n]\n","import { defaultSettings } from \"../constants/constants\"\nimport { iBlueprintItem, iBlueprintItemWithoutNumber } from \"../constants/interfaces\"\nimport {\n    getTrainArray,\n    placeTrainTracks,\n    placeSignals,\n    changeItemsCoordinates,\n    placeTrain,\n    resetEntityNumber,\n    assignEntityNumberToItems,\n    copyPasteItems,\n} from \"./CreateItems\"\nimport {\n    backLeftCurve,\n    backRightCurve,\n    frontLeftCurve,\n    frontRightCurve,\n} from \"../constants/verticalStackerCurves\"\nimport {\n    diagonalBackLeftCurve,\n    diagonalBackRightCurve,\n    diagonalFrontLeftCurve,\n    diagonalFrontRightCurve,\n} from \"../constants/diagonalStackerCurves\"\n\nexport const createStacker = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    resetEntityNumber()\n    if (bpSettings.diagonalStacker) {\n        return createDiagonalStacker(bpSettings)\n    } else {\n        return createVerticalStacker(bpSettings)\n    }\n}\n\nexport const createVerticalStacker = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    let trainLength = Math.floor(getTrainArray(bpSettings).length / 2) * 2\n\n    let frontCurve: iBlueprintItem[]\n    let backCurve: iBlueprintItem[]\n    if (bpSettings.stackerType === \"Left-Left\" || bpSettings.stackerType === \"Right-Left\") {\n        frontCurve = assignEntityNumberToItems(frontLeftCurve, -2, -8)\n    } else {\n        frontCurve = assignEntityNumberToItems(frontRightCurve, -2, -8)\n    }\n\n    if (bpSettings.stackerType === \"Left-Left\" || bpSettings.stackerType === \"Left-Right\") {\n        backCurve = assignEntityNumberToItems(backLeftCurve, -2, trainLength - 2)\n    } else {\n        backCurve = assignEntityNumberToItems(backRightCurve, -2, trainLength - 2)\n    }\n\n    let copyPasteBlueprint = [\n        ...placeTrainTracks(bpSettings),\n        ...placeSignals(bpSettings, 0),\n        ...frontCurve,\n        ...backCurve,\n    ]\n    if (bpSettings.includeTrainInBlueprint)\n        copyPasteBlueprint = [...copyPasteBlueprint, ...placeTrain(bpSettings)]\n    changeItemsCoordinates(copyPasteBlueprint, -0.5)\n\n    let allItems: iBlueprintItem[] = []\n    for (let i = 0; i < parseInt(bpSettings.stackerNumberParallelLanes); i++) {\n        allItems = [...allItems, ...copyPasteItems(copyPasteBlueprint, i * 4)]\n    }\n\n    return allItems\n}\n\nexport const createDiagonalStacker = (bpSettings: typeof defaultSettings): iBlueprintItem[] => {\n    let doubleHeadedFactor = bpSettings.doubleHeaded ? 2 : 1\n    let diagonalLength =\n        Math.round(\n            (2.5 *\n                (doubleHeadedFactor * parseInt(bpSettings.locomotivesPerEnd) +\n                    parseInt(bpSettings.cargoWagon))) /\n                2\n        ) *\n            2 +\n        1\n\n    let frontCurve: iBlueprintItem[]\n    let backCurve: iBlueprintItem[]\n    if (bpSettings.stackerType === \"Right-Left\") {\n        frontCurve = assignEntityNumberToItems(diagonalFrontLeftCurve, 8)\n        backCurve = assignEntityNumberToItems(\n            diagonalBackRightCurve,\n            8 - diagonalLength * 2,\n            diagonalLength * 2\n        )\n    } else {\n        frontCurve = assignEntityNumberToItems(diagonalFrontRightCurve, 8)\n        backCurve = assignEntityNumberToItems(\n            diagonalBackLeftCurve,\n            8 - diagonalLength * 2,\n            diagonalLength * 2\n        )\n    }\n    // TODO Support 'include train in blueprint' for diagonal stackers?\n\n    let diagonals: iBlueprintItemWithoutNumber[] = [\n        {\n            name: \"straight-rail\",\n            position: { x: 3, y: 3 },\n            direction: 7,\n        },\n        {\n            name: \"straight-rail\",\n            position: { x: 3, y: 1 },\n            direction: 3,\n        },\n    ]\n\n    let copyPasteBlueprint: iBlueprintItem[] = []\n    for (let i = 0; i < diagonalLength; i++) {\n        let newDiagonals = assignEntityNumberToItems(diagonals, -i * 2, i * 2)\n        copyPasteBlueprint = [...copyPasteBlueprint, ...newDiagonals]\n    }\n    copyPasteBlueprint = [...copyPasteBlueprint, ...frontCurve, ...backCurve]\n\n    let allItems: iBlueprintItem[] = []\n\n    for (let i = 0; i < parseInt(bpSettings.stackerNumberParallelLanes); i++) {\n        if (bpSettings.stackerType === \"Left-Right\") {\n            allItems = [...allItems, ...copyPasteItems(copyPasteBlueprint, i * 4)]\n        } else {\n            allItems = [...allItems, ...copyPasteItems(copyPasteBlueprint, 0, i * 4)]\n        }\n    }\n    return allItems\n}\n","export let CLASSES = {\n    // Title\n    title: \"self-center underline font-bold text-3xl text-gray-300\",\n\n    // Background\n    background: \"bg-gray-800 h-screen\",\n    background2: \"bg-gray-800 flex flex-col\",\n\n    // Sections\n    section: \"self-center border-black p-1 my-1 w-full bg-blue-700\",\n    gridSection: \"grid grid-cols-2 gap-2\",\n\n    // HTML Elements\n    checkboxElement: \"h-full place-self-center\",\n    labelElement: \"w-full text-white\",\n    inputTextElement: \"border-2 border-gray-600 w-full bg-blue-900 text-white text-center\",\n    selectElement: \"border-2 border-gray-600 w-full bg-blue-900 text-white text-center\",\n    buttonElement: \"border-2 border-gray-600 m-auto px-4 py-1 text-white rounded hover:bg-blue-300\",\n    // Styling doesnt apply for firefox, but works in chrome\n    optionElement: \"text-center text-white bg-blue-900\",\n\n    footerElements: \"text-center text-gray-500\",\n\n    // Error message field\n    errorMessageElement:\n        \"text-center text-red-500 text-2xl m-1 p-2 border-2 border-red-500 bg-blue-800\",\n    warningMessageElement: \"text-center text-yellow-500 text-xl m-1 px-2 bg-blue-800\",\n}\n","const TOOLTIPS = {\n    trainLimit: \"Limits the amount of trains that will be at most going to this station.\",\n    sequentialStation:\n        \"Puts multiple stations with these settings in a row.<br>Stations will be disabled if the next station is free.<br>This makes it so trains go to the first station first, then to the second station and so on.\",\n    sequantialStationBeltsGoAllTheWay:\n        \"If enabled, belts from 'enable belts' setting will go all the way to the top/bottom. Otherwise belts will only go to the top/bottom of each station.\",\n    doubleHeaded: \"Does your train have locomotives at each end (facing both ways)?\",\n    includeTrainInBlueprint:\n        \"If enabled, adds the train with the expected layout to the blueprint.\",\n    enableFilterInserters:\n        \"If enabled, turns all inserters to filters inserters of equivalent level.\",\n    chestType:\n        \"If chest type is a logistic chest, it is expected that bots will deliver/grab items from the chest. No belts will be placed.\",\n    chestLimit:\n        \"Limits the amount of free slots in the chests.<br>A cargo wagon has 40 slots, so 6 chests with 7 slots have enough capacity to fill one wagon, or 12 chests with 4.\",\n    beltFlow: \"If enabled, adds belt flow to the top/bottom of the station.\",\n    refillEnabled:\n        \"If enabled, places an inserter and a requester chest next to each locomotive with the desired fuel type and amount.\",\n    connectChestsWithGreenWire:\n        \"If enabled, connects all chests on the left and all chests / storage tanks on the right together with green wire.\",\n    connectBothSideWithGreenWire:\n        \"If enabled, connects the top left and top right chest / storage tank with green wire.\",\n    connectChestsWithRedWire:\n        \"If enabled, connects all chests on the left and all chests / storage tanks on the right together with green wire.\",\n    connectBothSideWithRedWire:\n        \"If enabled, connects the top left and top right chest / storage tank with red wire.\",\n    trainStopUsesEnabledCondition:\n        \"If enabled, adds a decider combinator.<br>Then it creates a green wire connection with trainStop-deciderCombinator-poles-topChest.<br>The train stop will be enabled if the condition (e.g. sum of items in chests > 4000) is met.\",\n}\nexport default TOOLTIPS\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function TrainTypeSettings(props: iSectionsProps) {\n    let hideIfDiagonalStacker =\n        props.userSettings.stationType === \"Stacker\" && props.userSettings.diagonalStacker\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    min={\"0\"}\n                    id={\"doubleHeaded\"}\n                    data-tip={TOOLTIPS.doubleHeaded}\n                    checked={props.userSettings.doubleHeaded}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            doubleHeaded: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"doubleHeaded\"}>\n                    Double Headed\n                </label>\n                <input\n                    className={CLASSES.inputTextElement}\n                    type={\"number\"}\n                    min={\"0\"}\n                    id={\"locomotivesPerEnd\"}\n                    value={props.userSettings.locomotivesPerEnd}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            locomotivesPerEnd: e.target.value,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"locomotivesPerEnd\"}>\n                    # locomotives per end\n                </label>\n                <input\n                    className={CLASSES.inputTextElement}\n                    type={\"number\"}\n                    id={\"cargoWagon\"}\n                    value={props.userSettings.cargoWagon}\n                    onChange={(e) => {\n                        props.setUserSettings({ ...props.userSettings, cargoWagon: e.target.value })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"cargoWagon\"}>\n                    # cargo wagons\n                </label>\n                <input\n                    className={CLASSES.checkboxElement}\n                    hidden={hideIfDiagonalStacker}\n                    type={\"checkbox\"}\n                    id={\"includeTrainInBlueprint\"}\n                    data-tip={TOOLTIPS.includeTrainInBlueprint}\n                    checked={props.userSettings.includeTrainInBlueprint}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            includeTrainInBlueprint: e.target.checked,\n                        })\n                    }}\n                />\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hideIfDiagonalStacker}\n                    htmlFor={\"includeTrainInBlueprint\"}\n                >\n                    Include Train in Blueprint\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { inserterTypes } from \"../../constants/constants\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function InserterSettings(props: iSectionsProps) {\n    // All inserter types\n    let inserterSelect = (\n        <select\n            id={\"inserterType\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.inserterType}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, inserterType: e.target.value })\n            }}\n        >\n            {inserterTypes.map((inserterType) => {\n                return (\n                    <option\n                        className={CLASSES.optionElement}\n                        key={inserterType}\n                        value={inserterType}\n                    >\n                        {inserterType}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    let setValueAtIndex = (oldArray: string[], newValue: string, index: number) => {\n        props.setUserSettings({\n            ...props.userSettings,\n            // Replace the value at the fieldIndex using spread operator\n            filterFields: [\n                ...props.userSettings.filterFields.slice(0, index),\n                newValue,\n                ...props.userSettings.filterFields.slice(index + 1),\n            ],\n        })\n    }\n\n    let isFilterInserter = props.userSettings.enableFilterInserters\n\n    let newFilterInputField = (index: number) => {\n        return (\n            <input\n                key={`${index}`}\n                className={CLASSES.inputTextElement}\n                hidden={!isFilterInserter}\n                list={\"itemlist\"}\n                value={props.userSettings.filterFields[index]}\n                placeholder={\n                    index === 0 ? \"Filter 1 - e.g. 'iron-ore'\" : `Filter ${index + 1} item type`\n                }\n                onChange={(e) => {\n                    setValueAtIndex(props.userSettings.filterFields, e.target.value, index)\n                }}\n            />\n        )\n    }\n\n    // let filterInserterInputFields = []\n    let previousIsEmpty = -1\n    let filterInserterInputFields = new Array(5).fill(0).map((_, index) => {\n        if (previousIsEmpty !== -1 && previousIsEmpty < index) {\n            return undefined\n        }\n        if (props.userSettings.filterFields[index] === \"\") {\n            previousIsEmpty = index\n        }\n        return newFilterInputField(index)\n    })\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                {inserterSelect}\n                <label className={CLASSES.labelElement} htmlFor={\"inserterType\"}>\n                    Inserter Type\n                </label>\n                <input\n                    className={CLASSES.checkboxElement}\n                    id={\"filterInserterEnabled\"}\n                    type={\"checkbox\"}\n                    data-tip={TOOLTIPS.enableFilterInserters}\n                    checked={props.userSettings.enableFilterInserters}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            enableFilterInserters: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"filterInserterEnabled\"}>\n                    Enabled Filter Inserters\n                </label>\n                {filterInserterInputFields}\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { CLASSES } from \"../../css/classes\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function SequentialStationSettings(props: iSectionsProps) {\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    id={\"sequentialStation\"}\n                    data-tip={TOOLTIPS.sequentialStation}\n                    checked={props.userSettings.sequentialStation}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            sequentialStation: e.target.checked,\n                        })\n                    }}\n                />\n                {/*TODO Add tooltips explaining the option*/}\n                <label className={CLASSES.labelElement} htmlFor={\"sequentialStation\"}>\n                    Sequential Station?\n                </label>\n                <input\n                    className={CLASSES.inputTextElement}\n                    hidden={!props.userSettings.sequentialStation}\n                    type={\"number\"}\n                    id={\"sequentialStationsAmount\"}\n                    value={props.userSettings.sequentialStationsAmount}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            sequentialStationsAmount: e.target.value,\n                        })\n                    }}\n                />\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={!props.userSettings.sequentialStation}\n                    htmlFor={\"sequentialStationsAmount\"}\n                >\n                    # sequential stations in a row\n                </label>\n                <input\n                    className={CLASSES.checkboxElement}\n                    hidden={!props.userSettings.sequentialStation}\n                    type={\"checkbox\"}\n                    id={\"sequantialStationBeltsGoAllTheWay\"}\n                    data-tip={TOOLTIPS.sequantialStationBeltsGoAllTheWay}\n                    checked={props.userSettings.sequantialStationBeltsGoAllTheWay}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            sequantialStationBeltsGoAllTheWay: e.target.checked,\n                        })\n                    }}\n                />\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={!props.userSettings.sequentialStation}\n                    htmlFor={\"sequantialStationBeltsGoAllTheWay\"}\n                >\n                    Belts go all the way\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport { chestTypes, chestTypesHuman } from \"../../constants/constants\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function ChestTypeSettings(props: iSectionsProps) {\n    let chestTypesHtml = (\n        <select\n            id={\"chestTypes\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.chestType}\n            data-tip={TOOLTIPS.chestType}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, chestType: e.target.value })\n            }}\n        >\n            {chestTypes.map((chestType) => {\n                return (\n                    <option className={CLASSES.optionElement} key={chestType} value={chestType}>\n                        {chestTypesHuman[chestType]}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    let isRequesterChest = [\"logistic-chest-requester\", \"logistic-chest-buffer\"].includes(\n        props.userSettings.chestType\n    )\n    let canRequestFromBufferChests = props.userSettings.chestType === \"logistic-chest-requester\"\n\n    let previousIsEmpty = -1\n    let chestRequests = new Array(24).fill(0).map((_, i) => {\n        let index = Math.floor(i / 2)\n        if (previousIsEmpty !== -1 && previousIsEmpty < index) {\n            return undefined\n        }\n        if (props.userSettings.chestRequestItemsType[index] === \"\") {\n            previousIsEmpty = index\n        }\n        if (i % 2 === 0) {\n            return (\n                <input\n                    className={CLASSES.inputTextElement}\n                    hidden={!isRequesterChest}\n                    list={\"itemlist\"}\n                    key={`${index} chestRequestItemsType`}\n                    type={\"text\"}\n                    value={props.userSettings.chestRequestItemsType[index]}\n                    placeholder={`Request ${index + 1} item type`}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            chestRequestItemsType: [\n                                ...props.userSettings.chestRequestItemsType.slice(0, index),\n                                e.target.value,\n                                ...props.userSettings.chestRequestItemsType.slice(index + 1),\n                            ],\n                        })\n                    }}\n                />\n            )\n        } else {\n            return (\n                <input\n                    className={CLASSES.inputTextElement}\n                    hidden={!isRequesterChest}\n                    key={`${index} chestRequestItemsAmount`}\n                    type={\"number\"}\n                    min={\"0\"}\n                    value={props.userSettings.chestRequestItemsAmount[index]}\n                    placeholder={`Request ${index + 1} amount`}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            chestRequestItemsAmount: [\n                                ...props.userSettings.chestRequestItemsAmount.slice(0, index),\n                                e.target.value,\n                                ...props.userSettings.chestRequestItemsAmount.slice(index + 1),\n                            ],\n                        })\n                    }}\n                />\n            )\n        }\n    })\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                {chestTypesHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"chestTypes\"}>\n                    Chest Type\n                </label>\n                <input\n                    className={CLASSES.inputTextElement}\n                    type={\"number\"}\n                    value={props.userSettings.chestLimit}\n                    data-tip={TOOLTIPS.chestLimit}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            chestLimit: e.target.value,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"chestTypes\"}>\n                    Chest limit\n                </label>\n                {/*TODO hide if request or buffer chest is NOT selected*/}\n                <input\n                    className={CLASSES.checkboxElement}\n                    hidden={!canRequestFromBufferChests}\n                    id={\"requestFromBuffers\"}\n                    type={\"checkbox\"}\n                    checked={props.userSettings.chestRequestFromBuffers}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            chestRequestFromBuffers: e.target.checked,\n                        })\n                    }}\n                />\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={!canRequestFromBufferChests}\n                    htmlFor={\"requestFromBuffers\"}\n                >\n                    Request from Buffers\n                </label>\n                {chestRequests}\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport {\n    beltFlowDirections,\n    beltSides,\n    beltTypes,\n    beltTypesHuman,\n    botChestTypes,\n} from \"../../constants/constants\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function BeltTypeSettings(props: iSectionsProps) {\n    // @ts-ignore\n    let hideIfBotChests = botChestTypes.includes(props.userSettings.chestType)\n\n    let beltTypesHtml = (\n        <select\n            id={\"beltType\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.beltType}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, beltType: e.target.value })\n            }}\n        >\n            {beltTypes.map((beltType) => {\n                return (\n                    <option className={CLASSES.optionElement} key={beltType} value={beltType}>\n                        {beltTypesHuman[beltType]}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    let beltSideHtml = (\n        <select\n            id={\"sidesUsed\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.beltSidesUsed}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, beltSidesUsed: e.target.value })\n            }}\n        >\n            {beltSides.map((beltSide) => {\n                return (\n                    <option className={CLASSES.optionElement} key={beltSide} value={beltSide}>\n                        {beltSide}\n                    </option>\n                )\n            })}\n        </select>\n    )\n    let beltFlowHtml = (\n        <select\n            id={\"beltFlow\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.beltFlowDirection}\n            data-tip={TOOLTIPS.beltFlow}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, beltFlowDirection: e.target.value })\n            }}\n        >\n            {beltFlowDirections.map((beltFlow) => {\n                return (\n                    <option className={CLASSES.optionElement} key={beltFlow} value={beltFlow}>\n                        {beltFlow}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    return (\n        <div className={CLASSES.section} hidden={hideIfBotChests}>\n            <div className={CLASSES.gridSection}>\n                {beltTypesHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"beltType\"}>\n                    Belt Type\n                </label>\n                {beltSideHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"sidesUsed\"}>\n                    Sides to be used\n                </label>\n                {beltFlowHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"beltFlow\"}>\n                    Belt Flow\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport { refillFuelTypes, refillFuelTypesHuman } from \"../../constants/constants\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function RefillSettings(props: iSectionsProps) {\n    let fuelTypesHtml = (\n        <select\n            className={CLASSES.selectElement}\n            hidden={!props.userSettings.refillEnabled}\n            value={props.userSettings.refillFuelType}\n            onChange={(e) => {\n                props.setUserSettings({\n                    ...props.userSettings,\n                    // @ts-ignore\n                    refillFuelType: e.target.value,\n                })\n            }}\n        >\n            {refillFuelTypes.map((fuelType) => {\n                return (\n                    <option className={CLASSES.optionElement} key={fuelType} value={fuelType}>\n                        {refillFuelTypesHuman[fuelType]}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    id={\"refillEnabled\"}\n                    checked={props.userSettings.refillEnabled}\n                    data-tip={TOOLTIPS.refillEnabled}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            refillEnabled: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"refillEnabled\"}>\n                    Refill at this Station?\n                </label>\n                {fuelTypesHtml}\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={!props.userSettings.refillEnabled}\n                    htmlFor={\"fuelTypes\"}\n                >\n                    Fuel Type\n                </label>\n                <input\n                    type={\"number\"}\n                    className={CLASSES.inputTextElement}\n                    hidden={!props.userSettings.refillEnabled}\n                    value={props.userSettings.refillFuelAmount}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            refillFuelAmount: e.target.value,\n                        })\n                    }}\n                />\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={!props.userSettings.refillEnabled}\n                    htmlFor={\"fuelAmount\"}\n                >\n                    Amount\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function WireSettings(props: iSectionsProps) {\n    let normalTypes = [\"Loading Station\", \"Unloading Station\"]\n    let fluidTypes = [\"Fluid Loading Station\", \"Fluid Unloading Station\"]\n    let hiddenWhenNormalStation = normalTypes.includes(props.userSettings.stationType)\n    let hiddenWhenFluidStation = fluidTypes.includes(props.userSettings.stationType)\n    let hiddenWhenNotBothSides = props.userSettings.beltSidesUsed !== \"Both\"\n\n    let myCheckbox = (\n        keyName:\n            | \"connectChestsWithGreenWire\"\n            | \"connectBothSideWithGreenWire\"\n            | \"connectChestsWithRedWire\"\n            | \"connectBothSideWithRedWire\",\n        hidden: boolean = false\n    ) => {\n        return (\n            <input\n                className={CLASSES.checkboxElement}\n                hidden={hidden}\n                key={keyName}\n                type={\"checkbox\"}\n                id={keyName}\n                checked={props.userSettings[keyName]}\n                data-tip={TOOLTIPS[keyName]}\n                onChange={(e) => {\n                    props.setUserSettings({\n                        ...props.userSettings,\n                        [keyName]: e.target.checked,\n                    })\n                }}\n            />\n        )\n    }\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                {myCheckbox(\"connectChestsWithGreenWire\")}\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenFluidStation}\n                    htmlFor={\"connectChestsWithGreenWire\"}\n                >\n                    Connect chests with green wire?\n                </label>\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenNormalStation}\n                    htmlFor={\"connectChestsWithGreenWire\"}\n                >\n                    Connect storage tanks with green wire?\n                </label>\n                {myCheckbox(\n                    \"connectBothSideWithGreenWire\",\n                    hiddenWhenFluidStation || hiddenWhenNotBothSides\n                )}\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenFluidStation || hiddenWhenNotBothSides}\n                    htmlFor={\"connectBothSideWithGreenWire\"}\n                >\n                    Connect left and right side with green wire?\n                </label>\n                {myCheckbox(\"connectChestsWithRedWire\")}\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenFluidStation}\n                    htmlFor={\"connectChestsWithRedWire\"}\n                >\n                    Connect chests with red wire?\n                </label>\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenNormalStation}\n                    htmlFor={\"connectChestsWithGreenWire\"}\n                >\n                    Connect storage tanks with red wire?\n                </label>\n                {myCheckbox(\n                    \"connectBothSideWithRedWire\",\n                    hiddenWhenFluidStation || hiddenWhenNotBothSides\n                )}\n                <label\n                    className={CLASSES.labelElement}\n                    hidden={hiddenWhenFluidStation || hiddenWhenNotBothSides}\n                    htmlFor={\"connectBothSideWithRedWire\"}\n                >\n                    Connect left and right side with red wire?\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport {\n    enabledConditionOperators,\n    enabledConditionOperatorsHuman,\n} from \"../../constants/constants\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function EnabledConditionSettings(props: iSectionsProps) {\n    let hideIfCheckboxDisabled = !props.userSettings.trainStopUsesEnabledCondition\n\n    let enabledConditionOperatorHtml = (\n        <select\n            className={CLASSES.selectElement}\n            hidden={hideIfCheckboxDisabled}\n            value={props.userSettings.enabledConditionOperator}\n            onChange={(e) => {\n                props.setUserSettings({\n                    ...props.userSettings,\n                    // @ts-ignore\n                    enabledConditionOperator: e.target.value,\n                })\n            }}\n        >\n            {enabledConditionOperators.map((operator) => {\n                return (\n                    <option className={CLASSES.optionElement} key={operator} value={operator}>\n                        {enabledConditionOperatorsHuman[operator]}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    id={\"trainStopUsesEnabledCondition\"}\n                    checked={props.userSettings.trainStopUsesEnabledCondition}\n                    data-tip={TOOLTIPS.trainStopUsesEnabledCondition}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            trainStopUsesEnabledCondition: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"trainStopUsesEnabledCondition\"}>\n                    Train stop uses 'enabled-condition'?\n                </label>\n                {enabledConditionOperatorHtml}\n                <input\n                    type={\"number\"}\n                    className={CLASSES.selectElement}\n                    hidden={hideIfCheckboxDisabled}\n                    placeholder={\"Amount of items\"}\n                    value={props.userSettings.enabledConditionAmount}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            enabledConditionAmount: e.target.value,\n                        })\n                    }}\n                />\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\n\nexport default function LampsSettings(props: iSectionsProps) {\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    id={\"placeLampsNearPoles\"}\n                    checked={props.userSettings.placeLampsNearPoles}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            placeLampsNearPoles: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"placeLampsNearPoles\"}>\n                    Place lamps near poles?\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport TOOLTIPS from \"../../constants/tooltips\"\n\nexport default function StationNameSettings(props: iSectionsProps) {\n    return (\n        <div>\n            <div className={CLASSES.section}>\n                <input\n                    className={CLASSES.inputTextElement}\n                    type={\"text\"}\n                    placeholder={\"Station Name\"}\n                    value={props.userSettings.stationName}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            stationName: e.target.value,\n                        })\n                    }}\n                />\n                <input\n                    className={CLASSES.inputTextElement}\n                    type={\"number\"}\n                    placeholder={\"Train limit\"}\n                    data-tip={TOOLTIPS.trainLimit}\n                    value={props.userSettings.trainLimit}\n                    min={\"-1\"}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            trainLimit: e.target.value,\n                        })\n                    }}\n                />\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport TrainTypeSettings from \"../Sections/TrainTypeSettings\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport InserterSettings from \"../Sections/InserterSettings\"\nimport SequentialStationSettings from \"../Sections/SequentialStationSettings\"\nimport ChestTypeSettings from \"../Sections/ChestTypeSettings\"\nimport BeltTypeSettings from \"../Sections/BeltTypeSettings\"\nimport RefillSettings from \"../Sections/RefillSettings\"\nimport WireSettings from \"../Sections/WireSettings\"\nimport EnabledConditionSettings from \"../Sections/EnabledConditionSettings\"\nimport LampsSettings from \"../Sections/LampsSettings\"\nimport StationNameSettings from \"../Sections/StationNameSettings\"\n\nexport default function NormalStation(props: iSectionsProps) {\n    return (\n        <div className={\"flex flex-col\"}>\n            <div className={\"grid gap-x-4 grid-cols-1 lg:grid-cols-2\"}>\n                <div>\n                    <StationNameSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <SequentialStationSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <TrainTypeSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <InserterSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n\n                    <ChestTypeSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                </div>\n                <div>\n                    <BeltTypeSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n\n                    <RefillSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <WireSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <EnabledConditionSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <LampsSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport { pumpSides } from \"../../constants/constants\"\n\nexport default function FluidSettings(props: iSectionsProps) {\n    let pumpSideHtml = (\n        <select\n            id={\"sidesUsed\"}\n            className={CLASSES.selectElement}\n            value={props.userSettings.pumpSidesToBeUsed}\n            onChange={(e) => {\n                // @ts-ignore\n                props.setUserSettings({ ...props.userSettings, pumpSidesToBeUsed: e.target.value })\n            }}\n        >\n            {pumpSides.map((pumpSide) => {\n                return (\n                    <option className={CLASSES.optionElement} key={pumpSide} value={pumpSide}>\n                        {pumpSide}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                {pumpSideHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"sidesUsed\"}>\n                    Sides to be used\n                </label>\n                <input\n                    className={CLASSES.checkboxElement}\n                    type={\"checkbox\"}\n                    id={\"connectTanks\"}\n                    checked={props.userSettings.pumpConnectWithPipe}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            pumpConnectWithPipe: e.target.checked,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"connectTanks\"}>\n                    Connect tank with pipe?\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport TrainTypeSettings from \"../Sections/TrainTypeSettings\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport RefillSettings from \"../Sections/RefillSettings\"\nimport WireSettings from \"../Sections/WireSettings\"\nimport EnabledConditionSettings from \"../Sections/EnabledConditionSettings\"\nimport LampsSettings from \"../Sections/LampsSettings\"\nimport StationNameSettings from \"../Sections/StationNameSettings\"\nimport FluidSettings from \"../Sections/FluidSettings\"\n\nexport default function FluidStation(props: iSectionsProps) {\n    return (\n        <div className={\"flex flex-col\"}>\n            <div className={\"grid gap-x-4 grid-cols-1 lg:grid-cols-2\"}>\n                <div>\n                    <StationNameSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <TrainTypeSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <FluidSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                </div>\n                <div>\n                    <RefillSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <WireSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <EnabledConditionSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                    <LampsSettings\n                        userSettings={props.userSettings}\n                        setUserSettings={props.setUserSettings}\n                    />\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { CLASSES } from \"../css/classes\"\n\nexport default function Title(props: any) {\n    return <div className={CLASSES.title}>Burny's Train Station Blueprint Creator</div>\n}\n","import React from \"react\"\nimport { CLASSES } from \"../css/classes\"\n\nexport default function Footer(props: any) {\n    return (\n        <div className={`${CLASSES.footerElements} flex flex-col`}>\n            <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://github.com/BurnySc2/Factorio-Train-Station-Blueprint-Creator\"\n            >\n                Contribute\n            </a>\n            <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://github.com/BurnySc2/Factorio-Train-Station-Blueprint-Creator/issues/new\"\n            >\n                Suggestions / Report Bugs\n            </a>\n            <a\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                href=\"https://www.reddit.com/message/compose/?to=BurnySc2\"\n            >\n                Contact (Reddit)\n            </a>\n        </div>\n    )\n}\n","import React from \"react\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport { CLASSES } from \"../../css/classes\"\nimport { stackerDiagonalTypes, stackerTypes } from \"../../constants/constants\"\n\nexport default function StackerSettings(props: iSectionsProps) {\n    let myCheckbox = (keyName: \"diagonalStacker\") => {\n        return (\n            <input\n                className={CLASSES.checkboxElement}\n                key={keyName}\n                type={\"checkbox\"}\n                id={keyName}\n                checked={props.userSettings[keyName]}\n                onChange={(e) => {\n                    props.setUserSettings({\n                        ...props.userSettings,\n                        [keyName]: e.target.checked,\n                    })\n                }}\n            />\n        )\n    }\n\n    let stackerTypesHtml = (\n        <select\n            className={CLASSES.selectElement}\n            value={props.userSettings.stackerType}\n            onChange={(e) => {\n                props.setUserSettings({\n                    ...props.userSettings,\n                    // @ts-ignore\n                    stackerType: e.target.value,\n                })\n            }}\n        >\n            {stackerTypes.map((type) => {\n                if (props.userSettings.diagonalStacker) return undefined\n                return (\n                    <option key={type} value={type}>\n                        {type}\n                    </option>\n                )\n            })}\n            {stackerDiagonalTypes.map((type) => {\n                if (!props.userSettings.diagonalStacker) return undefined\n                return (\n                    <option key={type} value={type}>\n                        {type}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    return (\n        <div className={CLASSES.section}>\n            <div className={CLASSES.gridSection}>\n                <input\n                    className={CLASSES.inputTextElement}\n                    id={\"stackerNumberParallelLanes\"}\n                    value={props.userSettings.stackerNumberParallelLanes}\n                    onChange={(e) => {\n                        props.setUserSettings({\n                            ...props.userSettings,\n                            stackerNumberParallelLanes: e.target.value,\n                        })\n                    }}\n                />\n                <label className={CLASSES.labelElement} htmlFor={\"stackerNumberParallelLanes\"}>\n                    # of parallel lanes\n                </label>\n                {myCheckbox(\"diagonalStacker\")}\n                <label className={CLASSES.labelElement} htmlFor={\"diagonalStacker\"}>\n                    Diagonal Stacker?\n                </label>\n                {stackerTypesHtml}\n                <label className={CLASSES.labelElement} htmlFor={\"leftRightStacker\"}>\n                    Stacker Type\n                </label>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport TrainTypeSettings from \"../Sections/TrainTypeSettings\"\nimport { iSectionsProps } from \"../../constants/interfaces\"\nimport StackerSettings from \"../Sections/StackerSettings\"\n\nexport default function Stacker(props: iSectionsProps) {\n    return (\n        <div className={\"flex flex-col\"}>\n            <TrainTypeSettings\n                userSettings={props.userSettings}\n                setUserSettings={props.setUserSettings}\n            />\n            <StackerSettings\n                userSettings={props.userSettings}\n                setUserSettings={props.setUserSettings}\n            />\n        </div>\n    )\n}\n","import React from \"react\"\nimport { CLASSES } from \"../css/classes\"\nimport { defaultSettings } from \"../constants/constants\"\n\ninterface MyProps {\n    warningMessage: string\n    userSettings: typeof defaultSettings\n}\nexport default function WarningMessage(props: MyProps) {\n    if (props.warningMessage === \"\") {\n        return null\n    }\n    return <div className={CLASSES.warningMessageElement}>Hint: {props.warningMessage}</div>\n}\n","import React from \"react\"\nimport { CLASSES } from \"../css/classes\"\n\ninterface MyProps {\n    errorMessage: string\n}\n\nexport default function ErrorMessage(props: MyProps) {\n    if (props.errorMessage === \"\") {\n        return null\n    }\n    return <div className={CLASSES.errorMessageElement}>{props.errorMessage}</div>\n}\n","import { defaultSettings } from \"./constants\"\n\nconst verifyNumberInput = (myInput: string) => {\n    return !isNaN(parseInt(myInput))\n}\n\nexport const checkForHintsBlueprintSettings = (bpSettings: typeof defaultSettings) => {\n    if (parseInt(bpSettings.locomotivesPerEnd) + parseInt(bpSettings.cargoWagon) > 1000) {\n        return \"Your amount of locomotives and cargo wagons is extremely high and might crash your browser!\"\n    }\n    if (\n        (bpSettings.stationType === \"Loading Station\" ||\n            bpSettings.stationType === \"Unloading Station\") &&\n        bpSettings.sequentialStation &&\n        parseInt(bpSettings.sequentialStationsAmount) > 20\n    ) {\n        return \"Your amount of sequential stations is extremely high and might crash your browser!\"\n    }\n    if (bpSettings.stationType !== \"Stacker\") {\n        if (bpSettings.trainStopUsesEnabledCondition && !bpSettings.connectChestsWithGreenWire) {\n            return \"If 'train stop uses-enabled condition' is enabled, you should also enable 'connect chests/storage tanks with green wire'.\"\n        }\n        if (\n            [\"Loading Station\", \"Unloading Station\"].includes(bpSettings.stationType) &&\n            bpSettings.sequentialStation &&\n            !bpSettings.trainStopUsesEnabledCondition\n        ) {\n            return \"If 'sequential stations' is enabled, you should enable 'train stop uses enabled-condition' for full capacity.\"\n        }\n    }\n    // No hint could be found\n    return \"\"\n}\n\nexport const validateBlueprintSettings = (bpSettings: typeof defaultSettings) => {\n    if (!verifyNumberInput(bpSettings.locomotivesPerEnd)) {\n        return \"The given locomotive count is not a number.\"\n    }\n    if (!verifyNumberInput(bpSettings.cargoWagon)) {\n        return \"The given cargo count is not a number.\"\n    }\n    if (\n        bpSettings.stationType === \"Loading Station\" ||\n        bpSettings.stationType === \"Unloading Station\"\n    ) {\n        for (let i = 0; i < 12; i++) {\n            let itemType = bpSettings.chestRequestItemsType[i]\n            let numberAsString = bpSettings.chestRequestItemsAmount[i]\n\n            if (itemType !== \"\" && !verifyNumberInput(numberAsString)) {\n                return `Chest request at position ${i + 1} is not a number.`\n            }\n        }\n    }\n    if (bpSettings.stationType !== \"Stacker\") {\n        if (bpSettings.trainLimit !== \"\" && !verifyNumberInput(bpSettings.trainLimit)) {\n            return \"The given 'Train limit' is not a number.\"\n        }\n        if (!verifyNumberInput(bpSettings.chestLimit)) {\n            return \"The given chest limit is not a number.\"\n        }\n        if (bpSettings.refillEnabled && !verifyNumberInput(bpSettings.refillFuelAmount)) {\n            return \"The given refill amount is not a number.\"\n        }\n        if (\n            bpSettings.trainStopUsesEnabledCondition &&\n            !verifyNumberInput(bpSettings.enabledConditionAmount)\n        ) {\n            return \"The given 'enabled-condition' amount is not a number.\"\n        }\n    }\n    // No error was found\n    return \"\"\n}\n","import React, { useEffect, useState } from \"react\"\nimport NormalStation from \"./StationTypes/NormalStation\"\nimport FluidStation from \"./StationTypes/FluidStation\"\nimport Title from \"./Title\"\nimport { defaultSettings, stationTypes } from \"../constants/constants\"\nimport { CLASSES } from \"../css/classes\"\nimport Footer from \"./Footer\"\nimport Stacker from \"./StationTypes/Stacker\"\nimport copy from \"copy-to-clipboard\"\nimport { createBlueprint, createBlueprintString } from \"../BlueprintCreation/CreateBlueprint\"\nimport WarningMessage from \"./WarningMessage\"\nimport ErrorMessage from \"./ErrorMessage\"\nimport { checkForHintsBlueprintSettings, validateBlueprintSettings } from \"../constants/helper\"\nimport ReactTooltip from \"react-tooltip\"\nimport itemlist from \"../constants/itemlist.json\"\nconst cloneDeep = require(\"clone-deep\")\n\nexport default function Website(props: any) {\n    let [userSettings, setUserSettings] = useState(cloneDeep(defaultSettings))\n    let [blueprintString, setBlueprintString] = useState(\"\")\n    let [warningMessage, setWarningMessage] = useState(\"\")\n    let [errorMessage, setErrorMessage] = useState(\"\")\n\n    useEffect(() => {\n        let newWarningMessage = checkForHintsBlueprintSettings(userSettings)\n        setWarningMessage(newWarningMessage)\n        let newErrorMessage = validateBlueprintSettings(userSettings)\n        setErrorMessage(newErrorMessage)\n    }, [userSettings])\n\n    let stationTypeSelect = (\n        <select\n            className={CLASSES.selectElement}\n            value={userSettings.stationType}\n            onChange={(e) => {\n                setUserSettings({ ...userSettings, stationType: e.target.value })\n            }}\n        >\n            {stationTypes.map((stationType) => {\n                return (\n                    <option className={CLASSES.optionElement} key={stationType} value={stationType}>\n                        {stationType}\n                    </option>\n                )\n            })}\n        </select>\n    )\n\n    // Select which sub-station settings are available\n    let stationTypeHtml: JSX.Element = <div>ERROR LOADING CORRECT STATION TYPE</div>\n    if ([\"Loading Station\", \"Unloading Station\"].includes(userSettings.stationType)) {\n        stationTypeHtml = (\n            <NormalStation userSettings={userSettings} setUserSettings={setUserSettings} />\n        )\n    } else if (\n        [\"Fluid Loading Station\", \"Fluid Unloading Station\"].includes(userSettings.stationType)\n    ) {\n        stationTypeHtml = (\n            <FluidStation userSettings={userSettings} setUserSettings={setUserSettings} />\n        )\n    } else if (userSettings.stationType === \"Stacker\") {\n        stationTypeHtml = <Stacker userSettings={userSettings} setUserSettings={setUserSettings} />\n    }\n\n    // Creates the datalist item names to make it easier for autocomplete\n    // Source: https://github.com/kevinta893/factorio-recipes-json recipes.json\n    let itemdatalist = (\n        <datalist id={\"itemlist\"}>\n            {itemlist.map((itemInfo) => {\n                return <option key={itemInfo.id} value={itemInfo.id} />\n            })}\n        </datalist>\n    )\n\n    return (\n        <div className={CLASSES.background}>\n            <div className={CLASSES.background2}>\n                <Title />\n                <div className={\"grid grid-cols-1 justify-items-center m-auto bg-blue-800\"}>\n                    <div className={CLASSES.section}>{stationTypeSelect}</div>\n                    {stationTypeHtml}\n                    {/*Blueprint generation will not work with the current settings, give the user hints how to fix the configuration*/}\n                    <ErrorMessage errorMessage={errorMessage} />\n                    {/*Figure out if some combinations do not work properly and give the user hints how to fix it*/}\n                    <WarningMessage warningMessage={warningMessage} userSettings={userSettings} />\n                    <button\n                        className={CLASSES.buttonElement}\n                        onClick={(e) => {\n                            if (errorMessage === \"\") {\n                                setBlueprintString(\n                                    createBlueprintString(createBlueprint(userSettings))\n                                )\n                            }\n                        }}\n                    >\n                        Generate Blueprint\n                    </button>\n                    <input\n                        className={`${CLASSES.inputTextElement} my-2`}\n                        placeholder={\"Blueprint string will be generated here.\"}\n                        value={blueprintString}\n                        readOnly\n                    />\n                    <button\n                        className={CLASSES.buttonElement}\n                        onClick={(e) => {\n                            // Copy to clipboard\n                            copy(blueprintString, {\n                                debug: true,\n                                message: \"asd\",\n                            })\n                        }}\n                    >\n                        Copy to Clipboard\n                    </button>\n                    <Footer />\n                    <ReactTooltip place={\"bottom\"} multiline />\n                    {itemdatalist}\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from \"react\"\nimport Website from \"./Website\"\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\"\n\nexport default function MyRouter(props: any) {\n    return (\n        // TODO use path to be able to link a setting to a friend\n\n        <Router>\n            <Switch>\n                <Route exact path=\"/\">\n                    <Website />\n                </Route>\n            </Switch>\n        </Router>\n    )\n}\n","import React from \"react\"\nimport MyRouter from \"./components/MyRouter\"\n\nfunction App() {\n    return <MyRouter />\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n        // [::1] is the IPv6 localhost address.\n        window.location.hostname === \"[::1]\" ||\n        // 127.0.0.0/8 are considered localhost for IPv4.\n        window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void\n    onUpdate?: (registration: ServiceWorkerRegistration) => void\n}\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config)\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n                            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    )\n                })\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config)\n            }\n        })\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing\n                if (installingWorker == null) {\n                    return\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === \"installed\") {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                \"New content is available and will be used when all \" +\n                                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                            )\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration)\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log(\"Content is cached for offline use.\")\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration)\n                            }\n                        }\n                    }\n                }\n            }\n        })\n        .catch((error) => {\n            console.error(\"Error during service worker registration:\", error)\n        })\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { \"Service-Worker\": \"script\" },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get(\"content-type\")\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf(\"javascript\") === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload()\n                    })\n                })\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config)\n            }\n        })\n        .catch(() => {\n            console.log(\"No internet connection found. App is running in offline mode.\")\n        })\n}\n\nexport function unregister() {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister()\n            })\n            .catch((error) => {\n                console.error(error.message)\n            })\n    }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport \"./css/style.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}